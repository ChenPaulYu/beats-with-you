(this["webpackJsonpbeats-with-you"]=this["webpackJsonpbeats-with-you"]||[]).push([[0],{149:function(n,t,e){n.exports=e.p+"static/media/logo_white.4c9a999b.svg"},153:function(n,t,e){n.exports=e.p+"static/media/loading.401507ea.svg"},154:function(n,t,e){n.exports=e.p+"static/media/fx.301bd1cf.svg"},155:function(n,t,e){n.exports=e.p+"static/media/bass.10ff83a3.svg"},156:function(n,t,e){n.exports=e.p+"static/media/chord.61dd8689.svg"},157:function(n,t,e){n.exports=e.p+"static/media/vocal.71400f2b.svg"},158:function(n,t,e){n.exports=e.p+"static/media/melody.3c824690.svg"},159:function(n,t,e){n.exports=e.p+"static/media/percussion.2af2c76d.svg"},160:function(n,t,e){n.exports=e.p+"static/media/recycle.26288b82.svg"},161:function(n,t,e){n.exports=e.p+"static/media/add.7bdfba82.svg"},163:function(n,t,e){n.exports=e.p+"static/media/play.2a639892.svg"},164:function(n,t,e){n.exports=e.p+"static/media/pause.a1bb638f.svg"},165:function(n,t,e){n.exports=e.p+"static/media/download.9c9b52fb.svg"},166:function(n,t,e){n.exports=e.p+"static/media/trash.62022d74.svg"},167:function(n,t,e){n.exports=e.p+"static/media/trash_block.f9f53a6f.svg"},168:function(n,t){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAA1ySURBVHgB7Z0xdxNJEserZmyvuWU5c2vjvYghYJFtLEx22YnsMiDcaO3sMiC7i7Cju4uws7sIk91FQHYZ8idANtjIy77HkAH2vfO+h0Fgz/R2tTRGli1L6q4ezUjze49dWwZJVv+7urq6qhrBMp7njQyd+qbgOugJASP0GCLsiCAsVSrvS77v70BG10CwRG5yelY++4/yJQon/01RBAEPyhvPliEjdtgFkMtdLoDr3JdfetAZPgSfr5XLZR8yYsMBRiam8vfk4D+Bzgcf1L9xh17lJvN3ISM2XGAiN3WFZv2fwRSEwujYOGxvvV2BDOuwCEDNfI7Bj8hEEBvGPsDE5fwt6d0vgg2CUPoEz4uQYQ0jHyCXy9HW7jbYoupMZljEzAl0B8lh88Ae3sRE3p7AMkx3Aa32+OYIR1yHDGtoCyB3We737c7+GliYmLh6HjKsoG8BQqcAMSFw/xpkWEFbAALEFYgJATgDGVbQFoA80BmBmEDA30KGFVhDwRnpIxNAn5MJoM/JBNDnZALoczIB9DmZAPqcTAB9TiaAPicTQJ+TCaDPyQTQ52QC6HMGIBWI16AJ5S2GODjjqNNL9ADFQXIJlarVTjV99T3ADgr8RX7lQyj/wL7f64UqCReAKMoBWyivt5cZTIMNzmBBnh//kXII5KCresTDZu5LIjQ25ERj/X9c+mKIsp53hBAlKY6SCGHFEXulXhKFdlp4bmr6ib2cwNrAP2898FSKJly8joA3IJYUNWUpSvQeMRCP0562nigBqKrhUNxpVSgaDbqDOBtVHHcRX4B4hMHeUhotg7YALk3ln8p/zJaqJQdy6dMHZ973S03Lxb+fmL7hOHArjmxkPUQxDGHppxfPHkFKMLAA+VfAY3J9wHDuJHNfLTVH2zUInPhS0QtpKHnvtgAeVHad281mfXXG4z1Iz8A34kMgxZ1gP6FrApAvfOfF+tqxNYWTk5MzIbr3kmvqO0UsQ7C3kEQfoRuBIDL515oNPvUHCHHgae8MPoGz6A49TWKZW9wWQJpE51q5XPKPPB8VmrpDDzkdy2Qit7jB3lxSrEFsFkDtnZsMPpWY48DQ094ffEJaNnfoCfk3kABiEQAN/qfdJoM/lb9H/QUSsJ+PE086tw+T0A7HugCiwW/09Kl9HAWT5M/7t/wbYX5iavoedBHbAvAxcG42Dj6t98Nfn+kxR08PeWZxm4Jq3sxMVyygTQEc6/CpAxu5BkJ69/bskO/z1V74pBsisCIAiulng98Z3RKBFQGoA51s8DumGyLgF4CAIzFwcviywW8PEsHwXhCbY8gtAL+8sTbf+OCp09/otI7tY3A2rt0BmwCidb/x8dzl/F0hMBFBjzRBuwMZbf0RLMNnAcj0H1n3Lxfk4/PAiBIawgKdJ8iTxLPl9TWk/zti/6o8gp2DWn5fLyCXg0XlO9l9DT0azgJ8ORAXDv2c2elT2UIAS5X3zuJJSSPqtdOXP9AUFUgblIG0UsnKvQo8FuAY08/cRNLHUG4rn6/Ntxp8Qjmh8j1Vc/fSDTmFp/YCayFjBgHg8hHTTzNQOjLAQORbbGyUOhpMek80c6AHlgTlD+RUX0Z2TAUgo324UP+AMv1V88vDMb5FuyizeZx1SiMuWrECZgKgq14aBgfdoVvAaPqbJY60i3p/5DSmHuqYyp9QYtAnUJQgdJbrH1NJHZyne0KwDFwQOqnJ0j0RB+5yRwn1BRC6R01z1fHjI3SLwMDLqv/gQ8qRk2tk+HPIagW0t4GN1LZ9r4AJ+cZ2pPk/C0zkJvLLUu7WAyu2oc/l46BzgWtbyBcIYp79VKgJGUfgtgIsAqhGq3i2fRmtkVvjW8AEjwWgilxmpKnjPRJ1orJwuqgy3SFjsgJccQEeASD/HpXzlyQwajkvcIUihSp0nWYhMMUFjAVg9eYQxykAA99PT98QkUUJw2L0+IEQqnECH1IFFji2hOYWQKA1z5rWOo5fEsOD2eIfV6dHZwy1iOEDSBGnPoWzYAjHWUABLEGz9qvPgdHVcaro5KDgRK7/TaCYhrQGs1IIdKqZCiFwXKhlFAdQ5l+ou4LtImC+vLHWcVSwWmRKdYaHaKtiN5ebkXGNcF5+mejYQWXQOWsSEzC6OnZs7DvK9PkT2EbjKlmVTeM4/5ZfDjf8aAQcnB09d84b/fZ3q9vb28d+eNvbb3bk6z0aHR9boX5DcqZ8BwlkIAg3t7feaR97GwlAfoh/U5234oBEcG58dnTs3C8n/cK0cxgdH5fLBlKwZPiEJ5wBx73dUgjv3vn/23r7L/m6r6VTQktJokrYpDhfy/f3X9DEaAmYmMr/X3TnA/Gpc5fc2q1SSzdEHAmB9vlY0C8wba+GP4HZRkeysTpBWwAX5frqHl1f044vp9RyO/5G7nJ+HgXcOjoBRFEIXMVaKBsdcUV+T6L0wBIVAz9Au08guq4HIcRMtX2cdDxn5Qd/JeoDCHx4VLAp/YfZlj1+BJ4XINRrt5OvWHWYyXLw75qGK/sksCJooG0BJibzi4IxJt0eolhef3Yowyc3mZ+Xv4WtnLljmz2pkvaDvAdRrOy6N9vJVSQuTeVvyw+dN+dfRjR1G1JpxwGqa27PQ+lt9ykDOgpLkw9Ql/TygATZ7uATm+tri5TCjoynnSY3q+oHghA96B9kTMB5cmly+mHduUc1cKTBxsZGSa6enGlqHmiiLQCnD0u95G7jSztaw2TTTZXr2Dwy2QnSF9K2xgaXR/dVS5dDSMfzsW6m8iGQJ+fRZCy0BKDCpH2MI2TMgAHqjsrhC2DcAuh3Pn7Fk6xKiBAegyEiE0C8sNbpYXfzEDIBdI4PPUQmgM7xgBHssjOdCUCDixdntAMvjQgUV6CLaAmgMtzfOfvuYHgDGKimu5mfDZjsJLQEYKtZQWpAniyh4c8Bi5BE3AKo4UP/4plW6vKW0dMVd3qYRAL7zQr41JfoIHzrwF2T/j04MMh2E4pQdx3qYVAdDKvQH/jquHV97YK61yhw52jNVcEXd+iJjgiqHdL5OqehQSscg/4A3bUAFy9OztDRLGXcgAWibmSVXedq/Vk7nQEIIe7UvvU6uQmExGKjQzoKoS0A/S5h1dw4o5x9DXx1YaM8lbN1v0C73cio2sgN8X5dGFYljwR7Qenly42DAaEuqcPDp2dwAG9Z65cYhNd0L6bSF0A1b56tH0AywOXKLt5pleDR5m1mPt1LHMdFGNQrETTRXgLIFGIXHMGTGkXSTWSgtTuhe3ycC+X11bmTBp+ygsiE020f0NqB8+K5BcUsp8Do8uhQVM0xxEBkmj8eY5pr35dqfxbbT91u745ilQ7m2knoNIUykMEAIwE4iCtyUOIQADWKvPmizV6B5LTJJaoo3LDJLWTtDjy1vaHOJ8ltfuEIMwtgVhsYgx+gZv6+9MQ1MnAo1Dq8F1LtgkffU+dQ6TEvtcqgJcft1Ndn7ooU3GdUMawNNDoMqg2KDzbhbBQpYOWkwVcXWU3m7546feZVGgafLJlpWN78NBCtllKzNop0ZAy/Wb+BaOCpMCQ1V9gJ88+e4Tj4S8cNdpgbRVY7bB0+gCGHUXU+T9PARzD0UTQWQNWR4klvPoKFRpFREUW0pasFszxIHUebdOvAkhCCgMaJjUefE3ZYUq8jQlC9BaRTeV0NvEuNLVJ8b2EQsCy9LAL4OOgscweFLJ42eqke+Cq+bui3ERYBkCcqEJYgIx6YfCOCLSewMuAscloBe40iU4+vWwl8HGwC4LYC1hpFph3G2U+wZgVzWwErjSLTDevsJ1gFQFaAs+zZQqPIdMM8+wn2ugAqe+a6rYu/UWSakft+5tlPGLWJa8bY+Ngm361hmOu0R2AENYoUkP7rYmo3p/1AvQuBGSsCoN56Y+PjdNvHH4AD3kaRqUNasL+WX6xq9wJs8dx2oLWbrkJnNr9+q+5dSU7e0EOa/vXVObCENQEQlC+AbvjUggduoVFkIvHpOJs1JN6AVQEQXcoe7gkc4Vzt9MbUTrHiA9RDfX1Hx8dJaAXIaBtKcH2xsWrdgbUuAGL73dvi6LlzF6BXonG2oSyojbW/QwxYXwLquTSVf9pjazQ7QsDS5sZabOlosTaIoNu8RQ9c6W6RB3EOPhGrBSAsbQ97gQe6nUdNiL1FDJ0XkCVAFKmP0HFBZr8bg0/E4gQ2svPmTUVGC/+T7Q5AOXzS7P8FukRXBBChdgd9KgKK74eh+GHzxbN/QheJ3Qc4jtrtXu0UXPYEqkIpcG7ajPC1S1ctQMTW1tab0W9//1iGvugAqaedQ1rvP31w5n7+ufQGEkAiLEA9CbyUiQvqMTTXqiA1bhJhAepRoeMesga1fgb/qOzKWf/TWhkSRuIsQD1pub2zObgMAS4kYa1vRqIFEJE+ISR/4CNSIYCISAhU3pW0Qs52m0sljVQJIMLzZkaGfxPcqLZs7V7mjxp0atGGYqHyfqCUpoGPSKUA6lFWwQkK6MB1EoNty1Ab9EfUbKLywX2UxkGvJ/UCaERlAuNAQagdhDiPiDO6olDROqGuk11BkDM93Cu2uls4bfScAI5DLRmn96tbyhA9yiFsFEVtZu+ELuwMBIH/4cOQn/bZ3Q6/Alkp/8emx70sAAAAAElFTkSuQmCC"},170:function(n,t,e){n.exports=e(285)},184:function(n,t){},186:function(n,t){},197:function(n,t){},199:function(n,t){},225:function(n,t){},227:function(n,t){},228:function(n,t){},234:function(n,t){},236:function(n,t){},254:function(n,t){},256:function(n,t){},268:function(n,t){},271:function(n,t){},284:function(n,t,e){},285:function(n,t,e){"use strict";e.r(t);var r=e(4),a=e.n(r),o=e(47),i=e.n(o),c=e(16),u=e(33),l=e(21),s=e(143),f=(e(179),e(145)),p=e(35),d=e(14),b=e(20),h=e(7),v=function(n,t){switch(t.type){case"ADD_PLAYER":return Object(h.a)(Object(h.a)({},n),{},Object(b.a)({},t.id,{id:t.id,url:t.response.url,group:t.response.group,player:t.response.player}));default:return n}},m=Object(l.c)({ids:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PLAYER":return[].concat(Object(d.a)(n),[t.id]);case"REFRESH_PLAYER":return[];default:return n}},loops:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PLAYER":return v(n,t);case"ACTIVATE_PLAYER":var e={};return Object.keys(n).map((function(e){return v(n[e],t)})).forEach((function(n){e[n.id]=n})),e;case"REFRESH_PLAYER":return Object.keys(n).map((function(t){n[t].player.mute=!0,n[t].player.stop()})),{};default:return n}},loading:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_START":case"REFRESH_PLAYER":return{count:0,loaded:!1};case"REQUEST_ADD":var e=n.count+1;return{count:e,loaded:t.num==e};default:return n}},activateId:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTIVATE_PLAYER":return t.id===n?"":t.id;case"REFRESH_PLAYER":return"";default:return n}}}),g=e(87),j=function(n){return Array(8).fill(n)},x=e(18),O=function(n,t){var e=Object.assign({},n);return delete e[t],e},y=function(n,t,e){var r=Array.from(n),a=r.splice(t,1),o=Object(x.a)(a,1)[0];return r.splice(e,0,o),r},E=Object(l.c)({ids:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TRACK":return[].concat(Object(d.a)(n),[t.loop.id]);case"REMOVE_TRACK":return n.filter((function(n){return n!=t.id}));case"CHANGE_ORDER":return y(n,t.source_index,t.target_index);default:return n}},tracks:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TRACK":return Object(h.a)(Object(h.a)({},n),{},Object(b.a)({},t.loop.id,Object(h.a)(Object(h.a)({},t.loop),{},{mute:!1,solo:!1,volume:-5,pads:j(1),track_num:t.track_num,loop_type:t.loop_type})));case"REMOVE_TRACK":return O(n,t.id);case"ACTIVATE_PAD":var e=n[t.id].pads;return Object(h.a)(Object(h.a)({},n),{},Object(b.a)({},t.id,Object(h.a)(Object(h.a)({},n[t.id]),{},{pads:[].concat(Object(d.a)(e.slice(0,t.index)),[!e[t.index]],Object(d.a)(e.slice(t.index+1)))})));case"ADJUST_VOLUME":return Object(h.a)(Object(h.a)({},n),{},Object(b.a)({},t.id,Object(h.a)(Object(h.a)({},n[t.id]),{},{volume:t.volume})));case"TOGGLE_SOLO":var r=Object(h.a)(Object(h.a)({},n),{},Object(b.a)({},t.id,Object(h.a)(Object(h.a)({},n[t.id]),{},{solo:!n[t.id].solo,mute:!!n[t.id].solo&&n[t.id].mute})));return Object.keys(n).filter((function(n){return n!=t.id})).forEach((function(e){r[e]=Object(h.a)(Object(h.a)({},n[e]),{},{mute:!!n[t.id].solo&&n[e].mute,solo:!!n[t.id].solo&&n[e].solo})})),r;case"TOGGLE_MUTE":return Object(h.a)(Object(h.a)({},n),{},Object(b.a)({},t.id,Object(h.a)(Object(h.a)({},n[t.id]),{},{mute:!n[t.id].mute,solo:!!n[t.id].mute&&n[t.id].solo})));default:return n}},control:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{bpm:120,playing:!1,bar:-1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MOVE_SEQUENCER":return console.log(n.bar),Object(h.a)(Object(h.a)({},n),{},{bar:(n.bar+1)%8});case"TOGGLE_PLAY":return Object(h.a)(Object(h.a)({},n),{},{playing:!n.playing,bar:-1});case"CHANGE_BPM":return Object(h.a)(Object(h.a)({},n),{},{bpm:t.bpm});default:return n}}}),k=function(n){return Object(l.c)({router:Object(p.b)(n),candidate:m,decision:E})},A=Object(u.a)({basename:"/beats-with-you"});var F=e(0),w=e(1),C=e(3),D=e(2),R=e(146),T=e(9),L=e(149),B=e.n(L),Q=e(13),M=e(10),S=e(23);function P(){var n=Object(T.a)(["\n    width: 160px;\n    height: 45px;\n    font-size: 14px;\n    color: #ffffff;\n    cursor: pointer;\n    border-radius: 2px;\n    font-weight: normal;  \n    box-sizing: border-box;\n    text-transform: uppercase;  \n    background-color: ",";\n    border: 1px solid ",";\n    &:hover, :active {\n        background: ",";\n    }\n"]);return P=function(){return n},n}function U(){var n=Object(T.a)(["\n    color: #ffffff;\n    font-size: 14px;\n    cursor: pointer;\n    font-weight: normal;\n    box-sizing: border-box;\n    text-transform: uppercase;\n    background-color: ",";\n    margin-bottom: 20px;\n    &:hover, :active {\n        text-decoration: underline;\n    }\n"]);return U=function(){return n},n}function H(){var n=Object(T.a)(["\n    margin-bottom: 30px;\n    font-style: normal;\n    font-weight: 300;\n    font-size: 18px;\n    line-height: 160%;\n    letter-spacing: 0.4px;\n    opacity: 0.8;\n"]);return H=function(){return n},n}function I(){var n=Object(T.a)(["\n    font-weight: 600;\n    font-size: 40px;\n    line-height: 47px;\n    text-transform: uppercase;  \n"]);return I=function(){return n},n}function Y(){var n=Object(T.a)(["\n    width: 128px;\n    height: 128px;\n    margin-bottom: 10px;\n"]);return Y=function(){return n},n}function z(){var n=Object(T.a)(["\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 2em;\n\n    & * {\n        margin: 5px;\n    }\n"]);return z=function(){return n},n}var G=M.a.div(z()),J=M.a.img(Y()),N=M.a.h1(I()),V=M.a.p(H()),W=M.a.div(U(),Object(Q.a)("#ffffff",0)),_=M.a.button(P(),Object(Q.a)("#ffffff",0),Object(Q.a)("#ffffff",.2),Object(Q.a)("#ffffff",.2)),q=function(n){Object(C.a)(e,n);var t=Object(D.a)(e);function e(){return Object(F.a)(this,e),t.apply(this,arguments)}return Object(w.a)(e,[{key:"render",value:function(){var n=this.props,t=n.onClickChosen,e=n.onClickAbout;return a.a.createElement(G,{className:"Welcome"},a.a.createElement(J,{src:B.a,alt:"logo"}),a.a.createElement(N,null,"Beats With You"),a.a.createElement(V,null,"Partnership with AI to create Beats"),a.a.createElement(W,{onClick:e},"About"),a.a.createElement(_,{onClick:t},"Start"))}}]),e}(r.Component);q=Object(c.c)(void 0,(function(n){return{onClickChosen:function(){n(Object(S.d)("/chosen"))},onClickAbout:function(){n(Object(S.d)("/about"))}}}))(q);var K=q=Object(c.c)(null,{push:S.d})(q),X=e(6),Z=e(153),$=e.n(Z);function nn(){var n=Object(T.a)(["\n    width: 32px;\n    height: 32px;\n    height: 100%;\n    width : 100%;\n    display: flex;\n    flex-direction: row;\n    align-content: center;\n    justify-content: center;\n"]);return nn=function(){return n},n}var tn=M.a.img(nn()),en=function(n){Object(C.a)(e,n);var t=Object(D.a)(e);function e(){return Object(F.a)(this,e),t.apply(this,arguments)}return Object(w.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{className:"Loading"},a.a.createElement(tn,{src:$.a,alt:"Loading"}))}}]),e}(r.Component),rn=e(64),an=e.n(rn),on=function(n,t,e,r){var a=n.getContext("2d"),o=n.width,i=n.height,c=function(n,t,e){for(var r=Math.ceil(n.length/t),a=e/2,o=[],i=0;i<t;i+=5){for(var c=1,u=-1,l=0;l<r;l++){var s=n[i*r+l];s<c&&(c=s),s>u&&(u=s)}o.push({x:i,y:(1+c)*a,width:1,height:Math.max(1,(u-c)*a)})}return o}(t,o,i);a.clearRect(0,0,o,i),a.fillStyle=e,a.globalAlpha=r?1:.2,c.forEach((function(n){return a.fillRect(n.x,n.y,n.width,n.height)}))},cn=e(154),un=e.n(cn),ln=e(155),sn=e.n(ln),fn=e(156),pn=e.n(fn),dn=e(157),bn=e.n(dn),hn=e(158),vn=e.n(hn),mn=e(159),gn={percussion:{color:"#FF5ADA",icon:e.n(mn).a},bass:{color:"#FF7D05",icon:sn.a},chord:{color:"#FFF500",icon:pn.a},melody:{color:"#46E72C",icon:vn.a},vocal:{color:"#B23FF9",icon:bn.a},fx:{color:"#05B4FF",icon:un.a}},jn=function(n){return gn[n].icon},xn=function(n){return gn[n].color},On=function(n,t,e,r,a){return r+(a-r)*(n-t)/(e-t)},yn=e(8),En=e.n(yn),kn=e(12),An=e(40),Fn="https://musicai.citi.sinica.edu.tw/mashup_ml_server",wn=function(){var n=Object(kn.a)(En.a.mark((function n(t){return En.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(Fn,"/get_main_loop/").concat(t)).then((function(n){return n.json()}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),Cn=function(){var n=Object(kn.a)(En.a.mark((function n(t,e){return En.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(Fn,"/get_mashup_result?url=").concat(t,"&num=").concat(e)).then((function(n){return n.json()}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),Dn=function(n){return"".concat(Fn,"/download_filepath?url=").concat(n)},Rn=function(n){return new Promise((function(t){var e=new An.a(Dn(n),(function(){e.mute=!1,e.volume.value=-5,e.toDestination(),t({url:n,player:e,group:Object.keys(gn)[Math.floor(Math.random()*Object.keys(gn).length)]})}))}))},Tn=function(n,t){return{type:"ADD_PLAYER",loop_type:t,response:n,id:Object(g.v4)()}},Ln=function(n){return{type:"ACTIVATE_PLAYER",id:n}},Bn=function(n,t,e){return{type:"ADD_TRACK",loop:n,loop_type:e,track_num:t}};function Qn(){var n=Object(T.a)(["\n    top: 6.67%;\n    right: 2.5%;\n    position: absolute;\n    width: 16px;\n    height: 16px;\n    opacity: ","\n"]);return Qn=function(){return n},n}function Mn(){var n=Object(T.a)(["\n  background-color: ",";\n  border-radius: 5px;\n\n  width : 100%;\n  height: 100%;\n\n  max-width: 160px;\n  max-height: 60px;\n"]);return Mn=function(){return n},n}function Sn(){var n=Object(T.a)(["\n    justify-self: ",";\n    position: relative;\n"]);return Sn=function(){return n},n}var Pn=M.a.div(Sn(),(function(n){return n.pos&&("right"==n.pos?"end":"start")})),Un=M.a.canvas(Mn(),(function(n){return""==n.color?Object(Q.a)("#000000",.2):Object(Q.a)(n.color,n.active?.2:.04)})),Hn=M.a.img(Qn(),(function(n){return n.active?.132:.66})),In=function(n){Object(C.a)(e,n);var t=Object(D.a)(e);function e(n){var r;return Object(F.a)(this,e),(r=t.call(this,n)).canvasClick=r.canvasClick.bind(Object(X.a)(r)),r}return Object(w.a)(e,[{key:"componentDidMount",value:function(){var n=this.props,t=n.player,e=n.active,r=n.color;if(t){var a=this.canvas,o=t.buffer.getChannelData();on(a,o,r,e)}}},{key:"componentDidUpdate",value:function(n){if(n!==this.props){var t=this.props,e=t.player,r=t.active,a=t.color;if(e){var o=this.canvas,i=e.buffer.getChannelData();on(o,i,a,r),r?(e.loop=!0,e.start()):(e.loop=!1,e.stop())}}}},{key:"canvasClick",value:function(){var n=this.props,t=n.onAtivatePlayer,e=n.id;n.player&&t(e)}},{key:"render",value:function(){var n=this,t=this.props,e=t.color,r=t.icon,o=t.active;return a.a.createElement(Pn,null,a.a.createElement(Un,{active:o,color:e,ref:function(t){return n.canvas=t},onClick:this.canvasClick}),""!=r&&a.a.createElement(Hn,{acitve:o,src:r,alt:"loop type"}))}}]),e}(r.Component),Yn=In=Object(c.c)((function(n,t){var e=n.candidate.loops[t.id];return{player:e.player,icon:e.group?jn(e.group):"",color:e.group?xn(e.group):"",active:n.candidate.activateId===t.id}}),(function(n){return{onAtivatePlayer:function(t){n(Ln(t))}}}))(In);function zn(){var n=Object(T.a)(["\n    width: 160px;\n    height: 45px;\n    color: ",";\n    border-radius: 2px;\n    font-weight: normal;  \n    box-sizing: border-box;\n    text-transform: uppercase;  \n    background-color: ",";\n    border: 1px solid ",";\n    cursor: ",";\n    pointer-events: ",";\n    &:hover, :active {\n        background: ",";\n    }\n"]);return zn=function(){return n},n}function Gn(){var n=Object(T.a)(["\n    border: 1px solid white;\n    display: flex;\n    justify-content: flex-end; \n    border: none;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 14px;\n    line-height: 16px;\n    text-align: justify;\n    color: ",";\n    background: #212529;\n    text-transform: uppercase;\n    margin-right: 0;\n    & * {\n        margin-right: 0;\n    }\n    &:hover, :active {\n        background: ",";\n    }\n"]);return Gn=function(){return n},n}function Jn(){var n=Object(T.a)(["\n    width: 100%;\n    grid-column: 1/ -1;\n    display: flex;\n    flex-direction: row;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 14px;\n    line-height: 16px;\n    text-align: justify;\n    color: ",";\n    background: #212529;\n    justify-content: flex-end; \n    justify-self: flex-end;\n    margin-right: 0;\n"]);return Jn=function(){return n},n}function Nn(){var n=Object(T.a)(["\n    display: grid;\n    grid-template-rows: repeat(2, 1fr);\n    grid-template-columns: repeat(4, 1fr);\n"]);return Nn=function(){return n},n}function Vn(){var n=Object(T.a)(["\n    font-weight: 400;\n    font-size: 40px;\n    line-height: 48px;\n    text-transform: uppercase;  \n"]);return Vn=function(){return n},n}function Wn(){var n=Object(T.a)(["\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 2em;\n\n    & * {\n        margin: 5px;\n    }\n"]);return Wn=function(){return n},n}var _n=M.a.div(Wn()),qn=M.a.div(Vn()),Kn=M.a.div(Nn()),Xn=M.a.div(Jn(),Object(Q.a)("#FFFFFF",.6)),Zn=M.a.button(Gn(),Object(Q.a)("#FFFFFF",.6),Object(Q.a)("#ffffff",.2)),$n=M.a.button(zn(),(function(n){return Object(Q.a)("#ffffff",n.active?1:.2)}),Object(Q.a)("#ffffff",0),(function(n){return Object(Q.a)("#ffffff",n.active?.2:.1)}),(function(n){return n.active?"pointer":"default"}),(function(n){return n.active?"auto":"none"}),Object(Q.a)("#ffffff",.2)),nt=function(n){Object(C.a)(e,n);var t=Object(D.a)(e);function e(n){var r;return Object(F.a)(this,e),(r=t.call(this,n)).next=r.next.bind(Object(X.a)(r)),r.fetching=r.fetching.bind(Object(X.a)(r)),r}return Object(w.a)(e,[{key:"next",value:function(){var n=this.props,t=n.active,e=n.activeLoop,r=n.onAddTrack,a=n.track_num;t&&r(e,a,"main")}},{key:"fetching",value:function(){(0,this.props.onFetchMainLoop)()}},{key:"componentDidMount",value:function(){this.fetching()}},{key:"render",value:function(){var n=this.props,t=n.ids,e=n.active,r=n.loaded;return a.a.createElement(_n,{className:"Chosen"},a.a.createElement(qn,null,"Choose One Main Loop First"),a.a.createElement(Kn,null,r&&t.map((function(n){return a.a.createElement(Yn,{id:n,keys:n})})),r&&a.a.createElement(Xn,null,a.a.createElement(Zn,{onClick:this.fetching},a.a.createElement("img",{src:an.a}),a.a.createElement("p",null,"Refresh")))),r?a.a.createElement($n,{active:e,onClick:this.next},"Next"):a.a.createElement(en,null))}}]),e}(r.Component),tt=nt=Object(c.c)((function(n){return{ids:n.candidate.ids,active:""!=n.candidate.activateId,loaded:n.candidate.loading.loaded,activeLoop:n.candidate.loops[n.candidate.activateId],track_num:n.decision.ids.length}}),(function(n){return{onFetchMainLoop:function(){n({type:"REFRESH_PLAYER"}),n((function(n){return n({type:"REQUEST_START"}),wn(8).then((function(t){t.main.map((function(t){return Rn(t).then((function(t){return n(Tn(t,"main"))})).then((function(){return n({type:"REQUEST_ADD",num:8})}))}))}))}))},onAddTrack:function(t,e,r){n({type:"REFRESH_PLAYER"}),n(Bn(t,e,r)),n(Object(S.d)("/interface"))}}}))(nt);function et(){var n=Object(T.a)(["\n    width: 160px;\n    height: 45px;\n    color: #ffffff;\n    cursor: pointer;\n    border-radius: 2px;\n    font-weight: normal;  \n    box-sizing: border-box;\n    text-transform: uppercase;  \n    background-color: ",";\n    border: 1px solid ",";\n    &:hover, :active {\n        background: ",";\n    }\n"]);return et=function(){return n},n}function rt(){var n=Object(T.a)(["\n    padding: 3px;\n    color: #FFFFFF;\n    cursor: pointer;\n    text-decoration: none;\n    background: ",";\n    &:hover {\n        background: ",";\n        text-decoration: underline;\n    }\n"]);return rt=function(){return n},n}function at(){var n=Object(T.a)(["\n    margin: 30px;\n    color: ",";\n    width: 700px;\n    text-align: justify;\n    font-style: normal;\n    font-weight: 300;\n    font-size: 18px;\n    line-height: 160%;\n"]);return at=function(){return n},n}function ot(){var n=Object(T.a)(["\n    width: 800px;\n    opacity: 0.2;\n    border: 1px solid #FFFFFF;\n    box-sizing: border-box;\n"]);return ot=function(){return n},n}function it(){var n=Object(T.a)(["\n    font-family: Work Sans;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 36px;\n    line-height: 52px;\n    text-transform: uppercase;  \n"]);return it=function(){return n},n}function ct(){var n=Object(T.a)(["\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 2em;\n\n    & * {\n        margin: 5px;\n    }\n"]);return ct=function(){return n},n}var ut=M.a.div(ct()),lt=M.a.div(it()),st=M.a.hr(ot()),ft=M.a.p(at(),Object(Q.a)("#ffffff",.8)),pt=M.a.a(rt(),Object(Q.a)("#ffffff",0),Object(Q.a)("#ffffff",.2)),dt=M.a.button(et(),Object(Q.a)("#ffffff",0),(function(n){return Object(Q.a)("#ffffff",n.active?.2:0)}),Object(Q.a)("#ffffff",.2)),bt=function(n){Object(C.a)(e,n);var t=Object(D.a)(e);function e(){return Object(F.a)(this,e),t.apply(this,arguments)}return Object(w.a)(e,[{key:"render",value:function(){var n=this.props.onClickClose;return a.a.createElement(ut,{className:"About"},a.a.createElement(lt,{class:"title"},"About"),a.a.createElement(st,null),a.a.createElement(ft,null,"Beats with You join force with AI to help you create beats designed by",a.a.createElement(pt,{href:"https://www.yachinhsiao.com/about",target:"_blank"},"YC Hsiao")," & developed by",a.a.createElement(pt,{href:"https://paulyuchen.com/",target:"_blank"},"Bo-Yu Chen"),". In this website, you are allowed to make beats by choosing the loops extracted from",a.a.createElement(pt,{href:"https://freemusicarchive.org/",target:"_blank"},"Free Music Archive"),". On top of that, our AI models can help with recommending suitable loops for your work by calculating compatibility between loops. Please enjoy playing with loops here, and for further technical information, please check out the",a.a.createElement(pt,{href:"https://arxiv.org/abs/2008.02011",target:"_blank"},"Paper"),"."),a.a.createElement(st,null),a.a.createElement(dt,{active:!0,onClick:n},"Close"))}}]),e}(r.Component);bt=Object(c.c)(void 0,(function(n){return{onClickClose:function(){n(Object(S.d)("/"))}}}))(bt);var ht=bt=Object(c.c)(null,{push:S.d})(bt),vt=e(65),mt=e.n(vt),gt=e(160),jt=e.n(gt);function xt(){var n=Object(T.a)(["\n    top: 6.67%;\n    right: 2.5%;\n    position: absolute;\n    width: 16px;\n    height: 16px;\n    opacity: ","\n"]);return xt=function(){return n},n}function Ot(){var n=Object(T.a)(["\n  background-color: ",";\n  border-radius: 5px;\n  width : 100%;\n  height: 100%;\n"]);return Ot=function(){return n},n}function yt(){var n=Object(T.a)(["\n    justify-self: ",";\n    position: relative;\n    width : 100%;\n    height: 100%;\n    border: 1px solid\n    max-width: 160px;\n    max-height: 60px;\n"]);return yt=function(){return n},n}var Et=M.a.div(yt(),(function(n){return n.pos&&("right"==n.pos?"end":"start")})),kt=M.a.canvas(Ot(),(function(n){return""!=n.color?Object(Q.a)(n.color,n.active?.2:.04):Object(Q.a)("#000000",.5)})),At=M.a.img(xt(),(function(n){return n.active?.132:.66})),Ft=function(n){Object(C.a)(e,n);var t=Object(D.a)(e);function e(n){var r;return Object(F.a)(this,e),(r=t.call(this,n)).canvasClick=r.canvasClick.bind(Object(X.a)(r)),r}return Object(w.a)(e,[{key:"componentDidMount",value:function(){var n=this.props,t=n.player,e=n.active,r=n.color;if(t){var a=this.canvas,o=t.buffer.getChannelData();on(a,o,r,e)}}},{key:"componentDidUpdate",value:function(n){if(n!==this.props){var t=this.props,e=t.player,r=t.active,a=t.color,o=t.play,i=t.bar;if(e){var c=this.canvas,u=e.buffer.getChannelData();on(c,u,a,r),o?(-1==i&&e.stop(),r&&e.start()):r&&(e.start(),e.loop=!0),r||e.stop()}}}},{key:"canvasClick",value:function(){var n=this.props,t=n.onAtivatePlayer,e=n.id;n.player&&t(e)}},{key:"render",value:function(){var n=this,t=this.props,e=t.color,r=t.icon,o=t.active;t.index,t.id;return a.a.createElement(Et,null,a.a.createElement(kt,{active:o,color:e,ref:function(t){return n.canvas=t},onClick:this.canvasClick}),""!=r&&a.a.createElement(At,{acitve:o,src:r,alt:"loop type"}))}}]),e}(r.Component),wt=Ft=Object(c.c)((function(n,t){var e=n.candidate.loops[t.id];return{player:e.player,icon:e.group?jn(e.group):"",color:e.group?xn(e.group):"",active:n.candidate.activateId===t.id,play:n.decision.control.playing,bar:n.decision.control.bar}}),(function(n){return{onAtivatePlayer:function(t){n(Ln(t))}}}))(Ft),Ct=e(161),Dt=e.n(Ct),Rt=e(162),Tt=e.n(Rt),Lt=function(n,t){return Tt()({title:n,text:t,buttons:{cancel:"Close"}})};function Bt(){var n=Object(T.a)(["\n    display: flex;\n    border: none;\n    align-items: center;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 14px;\n    line-height: 16px;\n    justify-content: center;\n    color: ",";\n    background: #282B2E;\n    text-transform: uppercase;\n    border-radius: 5px;\n\n    & p {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n    }\n\n    & img {\n        display: grid;\n        align-items: center;\n        justify-content: center;\n    }\n\n    & * {\n        padding: 2px;\n    }\n    &:hover, :active {\n        background: ",";\n    }\n\n"]);return Bt=function(){return n},n}function Qt(){var n=Object(T.a)(["\n    display: flex;\n    border: none;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 14px;\n    line-height: 16px;\n    text-align: justify;\n    color: ",";\n    background: #282B2E;\n    text-transform: uppercase;\n    border-radius: 5px;\n    & * {\n        padding: 5px;\n    }\n    &:hover, :active {\n        background: ",";\n    }\n\n"]);return Qt=function(){return n},n}function Mt(){var n=Object(T.a)(["\n    width: 100%;\n    grid-column: 1/ -1;\n    display: flex;\n    flex-direction: row;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 14px;\n    line-height: 16px;\n    text-align: justify;\n    color: ",";\n    background: #282B2E;\n    justify-content: space-between; \n"]);return Mt=function(){return n},n}function St(){var n=Object(T.a)([" \n    margin-top: 40px;\n    width: 100%;\n    height: 100%;\n    display: grid;\n    grid-template-rows: 1fr 1fr 1fr 1fr 1fr 1fr;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 1rem;\n"]);return St=function(){return n},n}function Pt(){var n=Object(T.a)(["\n    position: absolute;\n    top: 50%;\n    right: 10%;\n    transform: translateY(-50%);\n"]);return Pt=function(){return n},n}function Ut(){var n=Object(T.a)(["\n    font-style: normal;\n    font-weight: normal;\n    font-size: 14px;\n    line-height: 16px;\n    letter-spacing: 0.2px;\n    text-transform: uppercase;\n"]);return Ut=function(){return n},n}function Ht(){var n=Object(T.a)(["\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    height: 45px;\n    color: #FFFFFF;\n    cursor: pointer;\n    background: ",";\n    border: 1px solid ",";\n    box-sizing: border-box;\n    align-items: center;\n    justify-content: center;\n    border-radius: 2px;\n"]);return Ht=function(){return n},n}function It(){var n=Object(T.a)(["\n    font-style: normal;\n    font-weight: normal;\n    font-size: 32px;\n    line-height: 38px;\n    display: flex;\n    align-items: center;\n    text-transform: uppercase;\n    color: #FFFFFF;\n"]);return It=function(){return n},n}function Yt(){var n=Object(T.a)(["\n    display: flex;\n    padding: 3px;\n    & * {\n        margin: 0px 5px;\n    }\n"]);return Yt=function(){return n},n}function zt(){var n=Object(T.a)(["\n    padding: 10px;\n    margin-top: 10px;\n"]);return zt=function(){return n},n}function Gt(){var n=Object(T.a)(["\n    display: flex;\n    flex-direction: column;\n    align-self: center;\n    width : 90%;\n    height: 90%;\n"]);return Gt=function(){return n},n}function Jt(){var n=Object(T.a)(["\n    height: 100%;\n    width : 100%;\n    background-color: #282B2E;\n    display: flex;\n    flex-direction: row;\n\n    align-content: center;\n    justify-content: center;\n    margin-top: auto;\n"]);return Jt=function(){return n},n}function Nt(){var n=Object(T.a)(["\n    height: 100%;\n    width : 100%;\n    display: grid;\n    align-items: center;\n    flex-direction: row;\n    align-content: center;\n    justify-content: center;\n    margin-top: auto;\n"]);return Nt=function(){return n},n}var Vt=M.a.div(Nt()),Wt=M.a.div(Jt()),_t=M.a.div(Gt()),qt=M.a.div(zt()),Kt=M.a.div(Yt()),Xt=M.a.p(It()),Zt=M.a.div(Ht(),Object(Q.a)("#3A3E43",0),Object(Q.a)("#FFFFFF",.2)),$t=M.a.span(Ut()),ne=M.a.img(Pt()),te=M.a.div(St()),ee=M.a.div(Mt(),Object(Q.a)("#FFFFFF",.6)),re=M.a.button(Qt(),Object(Q.a)("#FFFFFF",.6),Object(Q.a)("#FFFFFF",.2)),ae=M.a.button(Bt(),Object(Q.a)("#FFFFFF",.6),Object(Q.a)("#FFFFFF",.2)),oe=function(n){Object(C.a)(e,n);var t=Object(D.a)(e);function e(n){var r;return Object(F.a)(this,e),(r=t.call(this,n)).fetching=r.fetching.bind(Object(X.a)(r)),r.adding=r.adding.bind(Object(X.a)(r)),r.genreSelect=r.genreSelect.bind(Object(X.a)(r)),r}return Object(w.a)(e,[{key:"componentDidMount",value:function(){this.fetching()}},{key:"genreSelect",value:function(){Lt("The feature is coming soon !",'Interested in "filtering music genres"?\nClick "Feedback" button to share your preference with us!')}},{key:"adding",value:function(){var n=this.props,t=n.activeLoop,e=n.onAddTrack,r=n.track_num;n.active&&(r>=5?Lt("Over the limit !","Tracks number exceeds the upper limit, \ndeleted some tracks to continue."):(e(t,r,"acc"),this.fetching()))}},{key:"fetching",value:function(){var n=this.props;(0,n.onFetchAccLoop)(n.sourceUrl)}},{key:"render",value:function(){var n=this.props,t=n.ids,e=n.loaded;return a.a.createElement(Wt,{className:"loopCache"},a.a.createElement(_t,null,a.a.createElement(Kt,null,a.a.createElement("img",{src:jt.a,alt:"Recycle Icon"}),a.a.createElement(Xt,null,"Loop")),a.a.createElement(qt,null,a.a.createElement(Zt,{onClick:this.genreSelect},a.a.createElement(ne,{src:mt.a,alt:"Arrow"}),a.a.createElement($t,null,"Hip-Hop")),e&&a.a.createElement(te,null,t.map((function(n,t){return a.a.createElement(wt,{index:t,id:n,keys:n})}))),e&&a.a.createElement(ee,null,a.a.createElement(ae,{onClick:this.adding},a.a.createElement("img",{src:Dt.a}),a.a.createElement("p",null,"Add")),a.a.createElement(re,{onClick:this.fetching},a.a.createElement("img",{src:an.a}),a.a.createElement("p",null,"Refresh"))),!e&&a.a.createElement(Vt,null,a.a.createElement(en,null)))))}}]),e}(r.Component),ie=oe=Object(c.c)((function(n){var t,e=n.decision.ids;return t={track_num:n.decision.ids.length,ids:n.candidate.ids},Object(b.a)(t,"track_num",n.decision.ids.length),Object(b.a)(t,"loaded",n.candidate.loading.loaded),Object(b.a)(t,"active",""!=n.candidate.activateId),Object(b.a)(t,"activeLoop",n.candidate.loops[n.candidate.activateId]),Object(b.a)(t,"sourceUrl",e.length>0?n.decision.tracks[e[e.length-1]].url:void 0),t}),(function(n){return{onFetchAccLoop:function(t){var e;n({type:"REFRESH_PLAYER"}),n((e=t,function(n){return n({type:"REQUEST_START"}),Cn(e,12).then((function(t){t.rank.map((function(t){return Rn(t).then((function(t){return n(Tn(t,"acc"))})).then((function(){return n({type:"REQUEST_ADD",num:12})}))}))}))}))},onAddTrack:function(t,e,r){n(Bn(t,e,r))}}}))(oe),ce=e(163),ue=e.n(ce),le=e(164),se=e.n(le);function fe(){var n=Object(T.a)(["\n    margin-left: auto;\n    margin-right: 0;\n    color: #FFFFFF;\n    background-color: ",";\n    border: 1px solid ",";\n    font-weight: normal;\n    box-sizing: border-box;\n    border-radius: 2px;\n    width: 160px;\n    height: 45px;\n    text-transform: uppercase;\n    cursor: pointer;\n    &:hover, :active {\n        background: ",";\n    }\n"]);return fe=function(){return n},n}function pe(){var n=Object(T.a)(["\n    position: absolute;\n    top: 50%;\n    right: 10%;\n    transform: translateY(-50%);\n"]);return pe=function(){return n},n}function de(){var n=Object(T.a)(["\n    font-style: normal;\n    font-weight: normal;\n    font-size: 14px;\n    line-height: 16px;\n    letter-spacing: 0.2px;\n    text-transform: uppercase;\n"]);return de=function(){return n},n}function be(){var n=Object(T.a)(["\n    position: relative;\n    width: 180px;\n    height: 45px;\n    color: #FFFFFF;\n    background: ",";\n    border: 1px solid ",";\n    box-sizing: border-box;\n    border-radius: 2px;\n"]);return be=function(){return n},n}function he(){var n=Object(T.a)(["\n    color: black;\n    padding: 12px 16px;\n    text-decoration: none;\n    display: block;\n"]);return he=function(){return n},n}function ve(){var n=Object(T.a)(["\n    display: none;\n    position: absolute;\n    min-width: 160px;\n    box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);\n    z-index: 1;\n"]);return ve=function(){return n},n}function me(){var n=Object(T.a)(["\n"]);return me=function(){return n},n}function ge(){var n=Object(T.a)(["\n    margin-right: 30px;\n    cursor: pointer;\n"]);return ge=function(){return n},n}function je(){var n=Object(T.a)(["\n    width: 85%;\n    height: 80%;\n    align-self: center;\n    justify-self: center;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"]);return je=function(){return n},n}function xe(){var n=Object(T.a)(["\n    width : 100%;\n    height: 100%;\n    display: grid;\n    background-color: #2F3236;\n"]);return xe=function(){return n},n}var Oe=M.a.div(xe()),ye=M.a.div(je()),Ee=M.a.img(ge()),ke=M.a.div(me()),Ae=M.a.div(ve()),Fe=M.a.div(he()),we=M.a.button(be(),Object(Q.a)("#3A3E43",0),Object(Q.a)("#FFFFFF",.2)),Ce=M.a.span(de()),De=M.a.img(pe()),Re=M.a.button(fe(),Object(Q.a)("#ffffff",0),Object(Q.a)("#ffffff",.2),Object(Q.a)("#ffffff",.2)),Te=function(n){Object(C.a)(e,n);var t=Object(D.a)(e);function e(n){var r;return Object(F.a)(this,e),(r=t.call(this,n)).controlPlay=r.controlPlay.bind(Object(X.a)(r)),r.controlBpm=r.controlBpm.bind(Object(X.a)(r)),r.save=r.save.bind(Object(X.a)(r)),r}return Object(w.a)(e,[{key:"controlPlay",value:function(){(0,this.props.onTogglePlay)()}},{key:"controlBpm",value:function(){Lt("The feature is coming soon !",'Interested in "adjusting BPM of loops"? \n Click "Feedback" button to share your preference with us!')}},{key:"save",value:function(){window.open("https://reurl.cc/N6bWpk","_blank")}},{key:"componentDidUpdate",value:function(){this.props.playing?An.b.start():An.b.stop()}},{key:"render",value:function(){var n=this.props,t=n.playing,e=n.bpm;return a.a.createElement(Oe,{className:"control"},a.a.createElement(ye,null,a.a.createElement(Ee,{src:t?se.a:ue.a,alt:"Play",onClick:this.controlPlay}),a.a.createElement(ke,null,a.a.createElement(we,{onClick:this.controlBpm},a.a.createElement(Ce,null,e," Bpm"),a.a.createElement(De,{src:mt.a,alt:"Arrow"})),a.a.createElement(Ae,null,a.a.createElement(Fe,{href:"#"},"Link 1"),a.a.createElement(Fe,{href:"#"},"Link 2"),a.a.createElement(Fe,{href:"#"},"Link 3"))),a.a.createElement(Re,{onClick:this.save},"Feedback")))}}]),e}(r.Component),Le=Te=Object(c.c)((function(n){return{bpm:n.decision.control.bpm,playing:n.decision.control.playing}}),(function(n){return{onTogglePlay:function(){n({type:"TOGGLE_PLAY"})},onChangeBpm:function(t){n(function(n){return{type:"CHANGE_BPM",bpm:n}}(t))}}}))(Te);function Be(){var n=Object(T.a)(["\n    display: flex;\n    flex-direction: row;\n    width: 100%;\n    height: 100%;\n    opacity: 0.5;\n    justify-content: start;\n    align-items: start;\n    text-transform: uppercase;\n    & * {\n        margin-right: 20px;\n        margin-left: 0px;\n    }\n"]);return Be=function(){return n},n}function Qe(){var n=Object(T.a)(["\n    margin: 10px 0px;\n    width: 100%;\n    opacity: 0.2;\n    border: 1px solid #FFFFFF;\n    box-sizing: border-box;\n"]);return Qe=function(){return n},n}function Me(){var n=Object(T.a)(["\n    display: flex;\n    text-transform: uppercase;\n"]);return Me=function(){return n},n}function Se(){var n=Object(T.a)(["\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    & * {\n        margin: 10px;\n        margin-left: 0px;\n    }\n"]);return Se=function(){return n},n}function Pe(){var n=Object(T.a)(["\n    width: 85%;\n    height: 100%;\n    justify-self: center;\n    justify-content: start;\n    align-items: center;\n    display: flex;\n    flex-direction: column;\n    margin-top: 10px;\n"]);return Pe=function(){return n},n}function Ue(){var n=Object(T.a)(["\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n\n"]);return Ue=function(){return n},n}var He=M.a.div(Ue()),Ie=M.a.div(Pe()),Ye=M.a.div(Se()),ze=M.a.p(Me()),Ge=M.a.hr(Qe()),Je=M.a.div(Be()),Ne=function(n){Object(C.a)(e,n);var t=Object(D.a)(e);function e(){return Object(F.a)(this,e),t.apply(this,arguments)}return Object(w.a)(e,[{key:"render",value:function(){return a.a.createElement(He,{className:"park"},a.a.createElement(Ie,null,a.a.createElement(Ye,null,a.a.createElement(ze,null,"Parking List"),a.a.createElement(Ge,null)),a.a.createElement(Je,null,"Coming Soon ......")))}}]),e}(r.Component),Ve=e(36);function We(){var n=Object(T.a)(["\n    top: 6.67%;\n    right: 2.5%;\n    position: absolute;\n    width: 16px;\n    height: 16px;\n    opacity: ","\n"]);return We=function(){return n},n}function _e(){var n=Object(T.a)(["\n  background-color: ",";\n  border-radius: 5px;\n\n  width : 100%;\n  height: 100%;\n\n  min-width: 160px;\n  min-height: 60px;\n"]);return _e=function(){return n},n}function qe(){var n=Object(T.a)(["\n    justify-self: ",";\n    position: relative;\n"]);return qe=function(){return n},n}var Ke=M.a.div(qe(),(function(n){return n.pos&&("right"==n.pos?"end":"start")})),Xe=M.a.canvas(_e(),(function(n){return""==n.color?Object(Q.a)("#000000",.2):Object(Q.a)(n.color,n.active?.2:.04)})),Ze=M.a.img(We(),(function(n){return n.active?.132:.66})),$e=function(n){Object(C.a)(e,n);var t=Object(D.a)(e);function e(n){return Object(F.a)(this,e),t.call(this,n)}return Object(w.a)(e,[{key:"componentDidMount",value:function(){var n=this.props,t=n.player,e=n.active,r=n.color,a=n.play,o=n.mute,i=n.volume,c=n.track_num,u=n.bar;if(console.log("track: ",c," bar: ",u,"play: ",a),t){var l=this.canvas,s=t.buffer.getChannelData();on(l,s,r,e),t.mute=o,t.volume.value=i,a?t.start():t.stop()}}},{key:"componentWillUnmount",value:function(){this.props.player.stop()}},{key:"componentDidUpdate",value:function(n){if(n!==this.props){var t=this.props,e=t.player,r=t.active,a=t.color,o=t.play,i=t.mute,c=t.volume,u=t.soloId,l=t.id,s=t.bar;if(e){var f=this.canvas,p=e.buffer.getChannelData();if(on(f,p,a,r),e.volume.value=c,u?(console.log(u,l),e.mute=l!=u):e.mute=i,n.bar==s)return;o?e.start():e.stop()}}}},{key:"render",value:function(){var n=this,t=this.props,e=t.color,r=t.icon,o=t.active,i=t.pos;return a.a.createElement(Ke,{pos:i},a.a.createElement(Xe,{active:o,color:e,ref:function(t){return n.canvas=t},onClick:this.canvasClick}),""!=r&&a.a.createElement(Ze,{acitve:o,src:r,alt:"loop type"}))}}]),e}(r.Component),nr=$e=Object(c.c)((function(n,t){var e=n.decision.tracks[t.id],r=Object.keys(n.decision.tracks).filter((function(t){return n.decision.tracks[t].solo}));return{track_num:n.decision.tracks[t.id].track_num,player:e.player,active:n.decision.control.playing,color:e.group?xn(e.group):"",icon:e.group?jn(e.group):"",play:n.decision.tracks[t.id].pads[n.decision.control.bar],volume:n.decision.tracks[t.id].volume,mute:n.decision.tracks[t.id].mute,soloId:r.length>0?r[0]:"",bar:n.decision.control.bar}}),(function(n){return{onAtivatePlayer:function(t){n(Ln(t))}}}))($e),tr=e(165),er=e.n(tr);function rr(){var n=Object(T.a)([" \n    -webkit-appearance: none;\n    background: none;\n    outline: none;\n    border-radius: 0;\n    cursor: pointer;\n                            \n    position: relative;\n    &::-webkit-slider-runnable-track {\n        background-color: #FFFFFF;\n        height: 1px;\n    }\n                            \n\n    &::-webkit-slider-thumb {\n        position: relative;\n        -webkit-appearance: none;\n        background-color: #212529;\n        border: 1px solid #FFFFFF;\n        width: 16px;\n        height: 16px;\n        border-radius: 50%;\n        top: -6px;\n    }\n"]);return rr=function(){return n},n}var ar=M.a.input.attrs({type:"range"})(rr()),or=function(n){Object(C.a)(e,n);var t=Object(D.a)(e);function e(n){var r;return Object(F.a)(this,e),(r=t.call(this,n)).onVolume=r.onVolume.bind(Object(X.a)(r)),r}return Object(w.a)(e,[{key:"onVolume",value:function(n){var t=this.props,e=t.id;(0,t.onAdjustVolume)(e,On(n.target.value,0,100,-20,-1))}},{key:"render",value:function(){var n=this.props.volume;return console.log(n),console.log("Value: ",On(n,-20,-1,0,100)),a.a.createElement(ar,{min:"0",max:"100",value:On(n,-20,-1,0,100),onInput:this.onVolume})}}]),e}(r.Component),ir=or=Object(c.c)((function(n,t){return{volume:n.decision.tracks[t.id].volume}}),(function(n){return{onAdjustVolume:function(t,e){n(function(n,t){return{type:"ADJUST_VOLUME",volume:t,id:n}}(t,e))}}}))(or);function cr(){var n=Object(T.a)(["\n    border: none;\n    display: flex;\n    background-color: ",";\n    margin-right: 0px;\n    \n"]);return cr=function(){return n},n}function ur(){var n=Object(T.a)(["\n    margin-left: 0px;\n    color: #FFFFFF;\n    background-color: ",";\n    font-weight: normal;\n    border: 1px solid ",";\n    box-sizing: border-box;\n    border-radius: 2px;\n    text-transform: uppercase;\n    font-size: 10px;\n    text-align: center;\n    width: 100%;\n    height: 100%;\n    min-width : 50px;\n    min-height: 30px;\n"]);return ur=function(){return n},n}function lr(){var n=Object(T.a)(["\n    align-self: flex-start;\n    display: flex;\n    align-items: flex;\n    justify-content: space-between;\n"]);return lr=function(){return n},n}function sr(){var n=Object(T.a)(["\n    display: grid;\n    margin-left: 10px;\n    & * {\n        margin: 0px 5px;\n    }\n"]);return sr=function(){return n},n}var fr=M.a.div(sr()),pr=M.a.div(lr()),dr=M.a.button(ur(),(function(n){return Object(Q.a)("#ffffff",n.active?.2:0)}),Object(Q.a)("#FFFFFF",.2)),br=M.a.a(cr(),Object(Q.a)("#FFFFFF",0)),hr=function(n){Object(C.a)(e,n);var t=Object(D.a)(e);function e(n){var r;return Object(F.a)(this,e),(r=t.call(this,n)).mute=r.mute.bind(Object(X.a)(r)),r.solo=r.solo.bind(Object(X.a)(r)),r}return Object(w.a)(e,[{key:"mute",value:function(){var n=this.props,t=n.id;(0,n.onToggleMute)(t)}},{key:"solo",value:function(){var n=this.props,t=n.id;(0,n.onToggleSolo)(t)}},{key:"render",value:function(){var n=this.props,t=n.id,e=n.mute,r=n.solo,o=n.url;return a.a.createElement(fr,null,a.a.createElement(pr,null,a.a.createElement(dr,{onClick:this.mute,active:e},"Mute"),a.a.createElement(dr,{onClick:this.solo,active:r},"Solo"),a.a.createElement(br,{href:Dn(o)},a.a.createElement("img",{src:er.a}))),a.a.createElement(ir,{id:t}))}}]),e}(r.Component),vr=hr=Object(c.c)((function(n,t){var e=n.decision.tracks[t.id].url,r=n.decision.tracks[t.id].mute,a=n.decision.tracks[t.id].solo;return{url:e||"",mute:r||!1,solo:a||!1}}),(function(n){return{onToggleMute:function(t){n(function(n){return{type:"TOGGLE_MUTE",id:n}}(t))},onToggleSolo:function(t){n(function(n){return{type:"TOGGLE_SOLO",id:n}}(t))}}}))(hr),mr=e(166),gr=e.n(mr),jr=e(167),xr=e.n(jr);function Or(){var n=Object(T.a)(["\n    width: 18px;\n    height: 18px;\n    opacity: ","\n"]);return Or=function(){return n},n}function yr(){var n=Object(T.a)(["\n    margin-left: 10px;\n    color: #ffffff;\n    cursor: pointer;\n    border-radius: 2px;\n    font-weight: normal;\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    text-transform: uppercase;\n    background-color: ",";\n    pointer-events: ",";\n    &:hover, :active {\n        background-color: ",";\n    }\n"]);return yr=function(){return n},n}var Er=M.a.div(yr(),Object(Q.a)("#ffffff",0),(function(n){return n.deletable?"auto":"none"}),(function(n){return Object(Q.a)("#ffffff",n.deletable?.2:0)})),kr=M.a.img(Or(),(function(n){return n.deletable?.66:.132})),Ar=function(n){Object(C.a)(e,n);var t=Object(D.a)(e);function e(n){var r;return Object(F.a)(this,e),(r=t.call(this,n)).deleting=r.deleting.bind(Object(X.a)(r)),r}return Object(w.a)(e,[{key:"deleting",value:function(){var n=this.props;(0,n.onRemoveTrack)(n.id)}},{key:"render",value:function(){var n=this.props.deletable;return console.log(n),a.a.createElement(Er,{onClick:this.deleting,deletable:n},a.a.createElement(kr,{deletable:n,src:n?gr.a:xr.a}))}}]),e}(r.Component),Fr=Ar=Object(c.c)((function(n,t){return{deletable:"acc"==n.decision.tracks[t.id].loop_type}}),(function(n){return{onRemoveTrack:function(t){n(function(n){return{type:"REMOVE_TRACK",id:n}}(t))}}}))(Ar);function wr(){var n=Object(T.a)(["\n    width: 100%;\n    height: 60px;\n    margin: 0px 10px;\n    border-radius: 5px;\n    background-color: ",";\n    opacity: ",";\n"]);return wr=function(){return n},n}var Cr=M.a.div(wr(),(function(n){return n.color?n.color:"#000000"}),(function(n){return n.play?n.active?1:.4:n.active?.2:.04})),Dr=function(n){Object(C.a)(e,n);var t=Object(D.a)(e);function e(n){var r;return Object(F.a)(this,e),(r=t.call(this,n)).padClick=r.padClick.bind(Object(X.a)(r)),r}return Object(w.a)(e,[{key:"padClick",value:function(){var n=this.props;(0,n.onActivatePad)(n.id,n.index)}},{key:"render",value:function(){var n=this.props,t=n.active,e=n.color,r=n.play;return a.a.createElement(Cr,{play:r,active:t,color:e,onClick:this.padClick})}}]),e}(r.Component),Rr=Dr=Object(c.c)((function(n,t){return{color:xn(n.decision.tracks[t.id].group),active:n.decision.tracks[t.id].pads[t.index],play:n.decision.control.bar===t.index}}),(function(n){return{onActivatePad:function(t,e){n(function(n,t){return{type:"ACTIVATE_PAD",index:t,id:n}}(t,e))}}}))(Dr);function Tr(){var n=Object(T.a)(["\n    display: flex;\n    margin-left: 10px;\n    flex-direction: row;\n    justify-content: space-between;\n    width: 100%;\n"]);return Tr=function(){return n},n}var Lr=M.a.div(Tr()),Br=function(n){Object(C.a)(e,n);var t=Object(D.a)(e);function e(){return Object(F.a)(this,e),t.apply(this,arguments)}return Object(w.a)(e,[{key:"render",value:function(){var n=this.props.id,t=""!=n?this.props.pads:j(0);return a.a.createElement(Lr,null,t.map((function(e,r){return a.a.createElement(Rr,{id:n,pads:t,key:"".concat(n).concat(r),index:r})})))}}]),e}(r.Component),Qr=Br=Object(c.c)((function(n,t){return{pads:n.decision.tracks[t.id].pads}}),void 0)(Br);function Mr(){var n=Object(T.a)(["\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    width: 100%;\n    height: 100%;\n    max-height: 60px;\n    margin: 0px 10px;\n    margin-bottom: 20px;\n"]);return Mr=function(){return n},n}var Sr=M.a.div(Mr()),Pr=function(n){Object(C.a)(e,n);var t=Object(D.a)(e);function e(){return Object(F.a)(this,e),t.apply(this,arguments)}return Object(w.a)(e,[{key:"render",value:function(){var n=this.props,t=n.id,e=n.index;return a.a.createElement(Ve.b,{key:t,draggableId:t,index:e},(function(n,e){return a.a.createElement(Sr,Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps),a.a.createElement(nr,{id:t,keys:t}),a.a.createElement(vr,{id:t,keys:t}),a.a.createElement(Qr,{id:t,keys:t}),a.a.createElement(Fr,{id:t,keys:t}))}))}}]),e}(r.Component),Ur=Pr=Object(c.c)((function(n,t){return{track:n.decision.tracks[t.id]}}),void 0)(Pr);function Hr(){var n=Object(T.a)(["\n    width : 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    margin-top: 20px;\n"]);return Hr=function(){return n},n}var Ir=M.a.div(Hr()),Yr=function(n){Object(C.a)(e,n);var t=Object(D.a)(e);function e(){return Object(F.a)(this,e),t.apply(this,arguments)}return Object(w.a)(e,[{key:"render",value:function(){var n=this.props.ids;return a.a.createElement(Ve.c,{key:"droppable-tracks",droppableId:"droppable-tracks"},(function(t){return a.a.createElement(Ir,Object.assign({ref:t.innerRef},t.droppableProps),n.map((function(n,t){return a.a.createElement(Ur,{id:n,key:n,index:t})})),t.placeholder)}))}}]),e}(r.Component),zr=Yr=Object(c.c)((function(n){return{ids:n.decision.ids}}),void 0)(Yr);function Gr(){var n=Object(T.a)(["\n    margin: 10px 0px;\n    width: 100%;\n    opacity: 0.2;\n    border: 1px solid #FFFFFF;\n    box-sizing: border-box;\n"]);return Gr=function(){return n},n}function Jr(){var n=Object(T.a)(["\n    font-weight: 100;\n    font-size: 0.75rem;\n    color: ",";\n    text-transform: none;\n"]);return Jr=function(){return n},n}function Nr(){var n=Object(T.a)(["\n    display: flex;\n    justify-content: flex-start;\n    text-transform: uppercase;\n"]);return Nr=function(){return n},n}function Vr(){var n=Object(T.a)(["\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n\n    & * {\n        margin: 5px;\n    }\n"]);return Vr=function(){return n},n}function Wr(){var n=Object(T.a)(["\n    width: 85%;\n    height: 100%;\n    justify-self: center;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    margin-bottom: 30px;\n"]);return Wr=function(){return n},n}function _r(){var n=Object(T.a)(["\n    width : 100%;\n    height: 100%;\n    display: grid;\n    align-items: center;\n"]);return _r=function(){return n},n}var qr=M.a.div(_r()),Kr=M.a.div(Wr()),Xr=M.a.div(Vr()),Zr=M.a.p(Nr()),$r=M.a.p(Jr(),Object(Q.a)("#FFFFFF",.6)),na=M.a.hr(Gr()),ta=function(n){Object(C.a)(e,n);var t=Object(D.a)(e);function e(n){return Object(F.a)(this,e),t.call(this,n)}return Object(w.a)(e,[{key:"componentDidMount",value:function(){var n=this.props,t=n.onMoveSequencer,e=n.bpm,r=n.location;console.log(r),An.b.scheduleRepeat((function(){t()}),"1n"),An.b.bpm.value=e}},{key:"render",value:function(){return a.a.createElement(qr,{className:"Sequencer"},a.a.createElement(Kr,null,a.a.createElement(Xr,null,a.a.createElement(Zr,null,"Sequencer \xa0",a.a.createElement($r,null,"AI recommends loops in Loop area according to the last track here. Just drag and drop a waveform to adjust the order!")),a.a.createElement(na,null)),a.a.createElement(zr,null)))}}]),e}(r.Component),ea=ta=Object(c.c)((function(n){return{bpm:n.decision.control.bpm,playing:n.decision.control.playing,location:n.router.pathname}}),(function(n){return{onMoveSequencer:function(){n({type:"MOVE_SEQUENCER"})}}}))(ta);function ra(){var n=Object(T.a)(["\n    height: 100%;\n    width : 100%;\n    display: grid;\n    grid-template-rows: 1.5fr 5.5fr 1fr;\n"]);return ra=function(){return n},n}var aa=M.a.div(ra()),oa=function(n){Object(C.a)(e,n);var t=Object(D.a)(e);function e(){return Object(F.a)(this,e),t.apply(this,arguments)}return Object(w.a)(e,[{key:"render",value:function(){return a.a.createElement(aa,{className:"Make"},a.a.createElement(Ne,null),a.a.createElement(ea,null),a.a.createElement(Le,null))}}]),e}(r.Component);function ia(){var n=Object(T.a)(["\n    height: 100%;\n    display: grid;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    grid-template-columns: 3fr 1fr;\n"]);return ia=function(){return n},n}var ca=M.a.div(ia()),ua=function(n){Object(C.a)(e,n);var t=Object(D.a)(e);function e(n){var r;return Object(F.a)(this,e),(r=t.call(this,n)).onDragEnd=r.onDragEnd.bind(Object(X.a)(r)),r}return Object(w.a)(e,[{key:"componentDidMount",value:function(){var n=this.props,t=n.onBack;n.sourceUrl||t()}},{key:"onDragEnd",value:function(n){var t=n.source,e=n.destination,r=this.props.onChangeTrackOrder;console.log(t.index,e.index),r(t.index,e.index)}},{key:"render",value:function(){var n=this.props.sourceUrl;return a.a.createElement(ca,null,n&&a.a.createElement(Ve.a,{onDragEnd:this.onDragEnd},a.a.createElement(oa,null),a.a.createElement(ie,null)))}}]),e}(r.Component),la=ua=Object(c.c)((function(n){var t=n.decision.ids;return{sourceUrl:t.length>0?n.decision.tracks[t[t.length-1]].url:void 0}}),(function(n){return{onBack:function(){n(Object(S.d)("/chosen"))},onChangeTrackOrder:function(t,e){n(function(n,t){return{type:"CHANGE_ORDER",source_index:n,target_index:t}}(t,e))}}}))(ua),sa=e(63),fa=(e(284),e(168)),pa=e.n(fa),da=function(n){Object(C.a)(e,n);var t=Object(D.a)(e);function e(){return Object(F.a)(this,e),t.apply(this,arguments)}return Object(w.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(R.a,null,a.a.createElement("title",null,"Beats With You"),a.a.createElement("meta",{name:"description",content:"Beats With You"}),a.a.createElement("link",{rel:"icon",type:"image/svg",href:pa.a,sizes:"16x16"})),a.a.createElement(sa.c,null,a.a.createElement(sa.a,{exact:!0,path:"/",component:K}),a.a.createElement(sa.a,{path:"/about",component:ht}),a.a.createElement(sa.a,{path:"/chosen",component:tt}),a.a.createElement(sa.a,{path:"/interface",component:la})))}}]),e}(r.Component),ba=function(n){var t=n.store;return a.a.createElement(c.a,{store:t},a.a.createElement(p.a,{history:A},a.a.createElement(da,null)))},ha=e(169),va=e.n(ha),ma=function(n){var t=[f.a];return Object(l.e)(k(A),n,Object(l.d)(l.a.apply(void 0,t.concat([Object(s.a)(A)]))))}(),ga=document.getElementById("root");va.a.load({google:{families:["Noto+Sans|Roboto+Mono|Work+Sans:400,700","Work Sans"]}}),i.a.render(a.a.createElement(ba,{store:ma}),ga)},64:function(n,t,e){n.exports=e.p+"static/media/refresh.96a1294d.svg"},65:function(n,t,e){n.exports=e.p+"static/media/arrow.31771389.svg"}},[[170,1,2]]]);
//# sourceMappingURL=main.bc4f187a.chunk.js.map