{"version":3,"sources":["Assets/type/fx.svg","Assets/type/bass.svg","Assets/type/chord.svg","Assets/type/vocal.svg","Assets/type/melody.svg","Assets/type/percussion.svg","Assets/icon/recycle.svg","Assets/button/add.svg","Assets/button/play.svg","Assets/button/pause.svg","Assets/button/download.svg","Assets/button/trash.svg","Assets/button/trash_block.svg","Assets/logo/logo_dark.png","Reducer/candidate.js","Utility/initial.js","Utility/manipulate.js","Reducer/decision.js","Reducer/index.js","configure.js","Container/welcome.js","Component/load.js","Utility/draw.js","Utility/map.js","Utility/api.js","Action/index.js","Component/loop.js","Container/chosen.js","Container/about.js","Container/intro.js","Component/dragloop.js","Utility/alert.js","Component/search.js","Component/control.js","Component/park.js","Component/droploop.js","Component/slider.js","Component/manage.js","Component/trash.js","Component/pad.js","Component/pads.js","Component/track.js","Component/tracks.js","Component/sequencer.js","Component/make.js","Component/fullLoad.js","Utility/intro.js","Container/interface.js","Container/mobile.js","App.js","root.js","index.js","Assets/logo/logo_white.svg","Assets/icon/loading.svg","Assets/button/refresh.svg","Assets/icon/arrow.svg"],"names":["module","exports","loop","state","action","type","id","url","response","group","player","candidate","combineReducers","ids","loops","nextState","Object","keys","map","key","forEach","s","mute","stop","loading","count","loaded","next_count","num","drawing","console","log","activateId","intializePads","initial","Array","fill","deleteKey","obj","copy","assign","reorder","list","startIndex","endIndex","result","from","splice","removed","decision","filter","source_index","target_index","intro","tracks","solo","volume","pads","track_num","loop_type","slice","index","nextSate","control","bpm","playing","bar","createRootReducer","history","router","connectRouter","createBrowserHistory","basename","process","Container","styled","div","IMG","img","H1","h1","P","p","A","rgba","Button","button","Welcome","this","props","onClickChosen","onClickAbout","className","src","logo","alt","onClick","Component","connect","undefined","dispatch","push","Loading","drawWaveform","canvas","data","color","active","ctx","getContext","w","width","h","height","rects","step","Math","ceil","length","amp","i","min","max","j","datum","x","y","getRects","clearRect","fillStyle","globalAlpha","r","fillRect","mapTable","percussion","bass","chord","melody","vocal","fx","mapIcon","mapColor","mapRange","value","low1","high1","low2","high2","server_url","getMainLoop","number","a","fetch","then","json","getAccLoop","loadUrl","loadPlayer","Promise","resolve","Player","toDestination","floor","random","addPlayer","v4","activatePlayer","addTrack","pos","Canvas","Loop","canvasClick","bind","buffer","getChannelData","prevProps","start","onAtivatePlayer","icon","ref","acitve","ownProps","Main","RefreshBlock","Refresh","Chosen","next","fetching","activeLoop","onAddTrack","onFetchMainLoop","onBackMobile","isMobile","refresh","api","HR","hr","About","onClickClose","class","href","target","Intro","onClickNext","DragLoop","onDrawFinish","play","drawFinish","notify","title","text","swal","buttons","cancel","LoadContainer","Block","CONTENT","TITLE","DROPDOWN","SPAN","span","ARROW","Loops","ButtonBlock","ADD","Search","adding","genreSelect","onFetchAccLoop","sourceUrl","recycle","arrow","add","trackIds","source_url","PLAY","BUTTON","SAVE","Control","controlPlay","controlBpm","save","onTogglePlay","window","open","Transport","pause","onChangeBpm","changeBpm","PARKS","Park","DropLoop","fadeIn","fadeOut","soloId","soloIds","SLIDER","input","attrs","Slider","onVolume","event","onAdjustVolume","onInput","adjustVolume","CONTROL","DOWNLOAD","Manage","onToggleMute","onToggleSolo","download","toggleMute","toggleSolo","CONTAINER","deletable","Trash","deleting","onRemoveTrack","trash","trash_block","removeTrack","Pad","padClick","onActivatePad","activatePad","Pads","_","Track","recommend","draggableId","provided","snapshot","innerRef","draggableProps","dragHandleProps","track","Tracks","droppableId","droppableProps","placeholder","TracksContainer","T","Sequencer","onMoveSequencer","location","scheduleRepeat","pathname","Make","FullLoading","steps","element","position","highlightClass","tooltipClass","hints","hint","hintPosition","Interface","onExit","onIntroFinish","setState","stepsEnabled","onDragEnd","onBack","source","destination","onChangeTrackOrder","drawed","enabled","initialStep","onChange","changeTrackOrder","Mobile","App","Helmet","name","content","rel","sizes","exact","path","component","Root","store","preloadedState","middlewares","thunk","createLogger","createStore","compose","applyMiddleware","routerMiddleware","configureStore","rootElement","document","getElementById","WebFont","load","google","families","ReactDOM","render"],"mappings":"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","file":"static/js/main.7ba5a830.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/fx.301bd1cf.svg\";","module.exports = __webpack_public_path__ + \"static/media/bass.10ff83a3.svg\";","module.exports = __webpack_public_path__ + \"static/media/chord.61dd8689.svg\";","module.exports = __webpack_public_path__ + \"static/media/vocal.71400f2b.svg\";","module.exports = __webpack_public_path__ + \"static/media/melody.3c824690.svg\";","module.exports = __webpack_public_path__ + \"static/media/percussion.2af2c76d.svg\";","module.exports = __webpack_public_path__ + \"static/media/recycle.26288b82.svg\";","module.exports = __webpack_public_path__ + \"static/media/add.7bdfba82.svg\";","module.exports = __webpack_public_path__ + \"static/media/play.2a639892.svg\";","module.exports = __webpack_public_path__ + \"static/media/pause.a1bb638f.svg\";","module.exports = __webpack_public_path__ + \"static/media/download.9c9b52fb.svg\";","module.exports = __webpack_public_path__ + \"static/media/trash.62022d74.svg\";","module.exports = __webpack_public_path__ + \"static/media/trash_block.f9f53a6f.svg\";","module.exports = \"data:image/png;base64,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\"","import { combineReducers } from 'redux';\n\nconst loop = (state, action) => {\n    switch (action.type) {\n        case \"ADD_PLAYER\":\n            return {\n                ...state,\n                [action.id]: {\n                    id: action.id,\n                    url: action.response.url,\n                    group: action.response.group,\n                    player: action.response.player,\n                }\n            }\n        default:\n            return state;\n    }\n};\nconst ids = (state=[], action) => {\n    switch (action.type) {\n        case 'ADD_PLAYER':\n            return [...state, action.id]\n        case 'REFRESH_PLAYER':\n            return []\n        default:\n            return state;\n    }  \n}\nconst activateId = (state='', action) => {\n    switch (action.type) {\n        case 'ACTIVATE_PLAYER':\n            return (action.id === state) ? '' : action.id ;\n        case 'REFRESH_PLAYER':\n            return ''\n        default:\n            return state;\n    }  \n}\nconst loading = (state={}, action) => {\n    switch (action.type) {\n        case 'REQUEST_START':\n        case 'REFRESH_PLAYER':\n            return { count: 0, loaded: false }\n        case 'REQUEST_ADD':\n            const next_count = state.count + 1\n            return { count: next_count, loaded: action.num == next_count ? true : false  }\n        default:\n            return state;\n    }  \n}\n\nconst drawing = (state={}, action) => {\n    switch (action.type) {\n        case 'REQUEST_START':\n            return { count: 0, loaded: false }\n        case 'DRAW_FINISH':\n            console.log('DRAW FINISH')\n            const next_count = state.count + 1\n            return { count: next_count, loaded: action.num == next_count ? true : false }\n        default:\n            return state;\n    }  \n}\n\nconst loops = (state = {}, action) => {\n    switch (action.type) {\n        case 'ADD_PLAYER':\n            return loop(state, action);\n        case 'ACTIVATE_PLAYER':\n            let nextState = {}\n            Object.keys(state).map((key) => (loop(state[key], action))).forEach((s) => {\n                nextState[s.id] = s;\n            });\n            return nextState\n        case 'REFRESH_PLAYER':\n            Object.keys(state).map((key) => {\n                state[key].player.mute = true\n                state[key].player.stop()\n            })\n            return {}\n        default:\n            return state;\n    }\n};\nconst candidate = combineReducers({ \n    ids,\n    loops,\n    loading,\n    drawing,\n    activateId  \n})\n\nexport default candidate;","import { v4 } from \"node-uuid\";\nconst bar_num = 8;\nconst track_num = 5;\nexport const max_volume  = 1;\nexport const min_volume = -25;\nexport const default_volume = -5;\n\nexport const intializePads = (initial) => Array(bar_num).fill(initial);\nexport const intializeTrack = (id) => ({\n    id,\n    url: '',\n    group: '',\n    player: '',\n    solo: false,    \n    mute: false,\n    pads: intializePads(0),\n})\nexport const intialTracksIds = () => (Array(track_num).fill(''))\n","export const deleteKey = (obj, key) => {\n    let copy = Object.assign({}, obj)\n    delete copy[key]\n    return copy\n}\n\nexport const reorder = (list, startIndex, endIndex) => {\n    const result = Array.from(list);\n    const [removed] = result.splice(startIndex, 1);\n    result.splice(endIndex, 0, removed);\n\n    return result;\n};","import { combineReducers } from 'redux';\nimport { intializePads, default_volume } from '../Utility/initial'\nimport { deleteKey, reorder } from '../Utility/manipulate'\n\nconst tracks = (state={}, action) => {\n    switch (action.type) {\n        case 'ADD_TRACK':\n            return {\n                ...state,\n                [action.loop.id]: {\n                    ...action.loop,\n                    mute: false,\n                    solo: false,\n                    volume: default_volume,\n                    pads: intializePads(1),\n                    track_num: action.track_num,\n                    loop_type: action.loop_type\n                }\n            }\n        case 'REMOVE_TRACK': \n            return deleteKey(state, action.id)\n        case 'ACTIVATE_PAD':\n            const pads = state[action.id].pads\n            return {    \n                ...state, \n                [action.id] : {\n                    ...state[action.id],\n                    pads: [\n                        ...pads.slice(0, action.index),\n                        !pads[action.index],\n                        ...pads.slice(action.index + 1)\n                    ]\n                }\n            };\n        case 'ADJUST_VOLUME':\n            return {\n                ...state,\n                [action.id]: {\n                    ...state[action.id],\n                    volume: action.volume\n                }\n            }\n        case 'TOGGLE_SOLO':\n            const nextSate = {\n                ...state,\n                [action.id]: {\n                    ...state[action.id],\n                    solo: !state[action.id].solo,\n                    mute: !state[action.id].solo ? false : state[action.id].mute\n                }\n            } \n            Object.keys(state).filter((id) => (id != action.id)).forEach((id) => {\n                nextSate[id] = {\n                    ...state[id], \n                    mute: !state[action.id].solo ? false : state[id].mute,\n                    solo: !state[action.id].solo ? false : state[id].solo\n                }\n            });\n            return nextSate;\n        case 'TOGGLE_MUTE':\n            return {\n                ...state,\n                [action.id]: {\n                    ...state[action.id],\n                    mute: !state[action.id].mute,\n                    solo: !state[action.id].mute ? false : state[action.id].solo\n                }\n            } \n        default:\n            return state;\n    }\n};\nconst ids = (state=[], action) => {\n    switch (action.type) {\n        case 'ADD_TRACK':\n            return [...state, action.loop.id]\n        case 'REMOVE_TRACK':\n            return state.filter ((id) => (id != action.id))\n        case 'CHANGE_ORDER':\n            return reorder(state, action.source_index, action.target_index )\n        default:\n            return state;\n    }\n}\nconst control = (state = {bpm: 120, playing: false, bar: -1}, action) => {\n    switch (action.type) {\n        case 'MOVE_SEQUENCER':\n            console.log(state.bar)\n            return { ...state, bar: (state.bar + 1) % 8 }\n        case 'TOGGLE_PLAY':\n            return { ...state, playing: !state.playing, bar: -1 }\n        case 'CHANGE_BPM':\n            return { ...state, bpm: action.bpm }\n        default:\n            return state;\n    }\n}\nconst intro = (state=false, action) => {\n    switch (action.type) {\n        case 'INTRO_FINISH':\n            return true\n        default:\n            return state;\n    }\n}\n\nconst decision = combineReducers({\n    ids, \n    intro,\n    tracks,\n    control,\n})\n\nexport default decision;","import { combineReducers } from 'redux';\nimport { connectRouter } from 'connected-react-router';\nimport candidate from './candidate'\nimport decision from './decision'\n\n\nconst createRootReducer = (history) =>\n    combineReducers({\n        router: connectRouter(history),\n        candidate, \n        decision\n    });\n\nexport default createRootReducer;","import { createBrowserHistory } from \"history\";\nimport { applyMiddleware, compose, createStore } from \"redux\";\nimport { routerMiddleware } from \"connected-react-router\";\nimport createLogger from \"redux-logger\";\nimport thunk from \"redux-thunk\";\nimport createRootReducer from \"./Reducer\";\nexport const history = createBrowserHistory({\n    basename: process.env.PUBLIC_URL,\n});\n\nexport default function configureStore(preloadedState) {\n    \n    let middlewares = [thunk];\n    middlewares.push(createLogger);\n\n    const store = createStore(\n        createRootReducer(history),\n        preloadedState,\n        compose(\n            applyMiddleware(\n                ...middlewares,\n                routerMiddleware(history)\n            )\n        )\n    );\n\n    return store;\n}\n","import React, { Component } from 'react';\nimport logo from '../Assets/logo/logo_white.svg'\nimport { rgba } from 'polished'\nimport styled from 'styled-components'\nimport { connect } from \"react-redux\";\nimport { push } from \"connected-react-router\";\nconst Container = styled.div`\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 2em;\n\n    & * {\n        margin: 5px;\n    }\n`\nconst IMG = styled.img`\n    width: 128px;\n    height: 128px;\n    margin-bottom: 10px;\n`\nconst H1 = styled.h1`\n    font-weight: 600;\n    font-size: 40px;\n    line-height: 47px;\n    text-transform: uppercase;  \n`\nconst P = styled.p`\n    margin-bottom: 30px;\n    font-style: normal;\n    font-weight: 300;\n    font-size: 18px;\n    line-height: 160%;\n    letter-spacing: 0.4px;\n    opacity: 0.8;\n`\nconst A = styled.div`\n    color: #ffffff;\n    font-size: 14px;\n    cursor: pointer;\n    font-weight: normal;\n    box-sizing: border-box;\n    text-transform: uppercase;\n    background-color: ${rgba('#ffffff', 0)};\n    margin-bottom: 20px;\n    &:hover, :active {\n        text-decoration: underline;\n    }\n`\nconst Button = styled.button`\n    width: 160px;\n    height: 45px;\n    font-size: 14px;\n    color: #ffffff;\n    cursor: pointer;\n    border-radius: 2px;\n    font-weight: normal;  \n    box-sizing: border-box;\n    text-transform: uppercase;  \n    background-color: ${rgba('#ffffff', 0)};\n    border: 1px solid ${rgba('#ffffff', 0.2)};\n    &:hover, :active {\n        background: ${ rgba('#ffffff', 0.2) };\n    }\n`\n\nclass Welcome extends Component {\n\n\n\n    render() {\n        const { onClickChosen, onClickAbout } = this.props\n        return (\n            <Container className='Welcome'>\n                <IMG src={logo} alt=\"logo\" />\n                <H1>Beats With You</H1>\n                <P>Partnership with AI to create Beats</P>\n                <A onClick={onClickAbout}>About</A>\n                <Button onClick={onClickChosen}>Start</Button>\n            </Container>\n        )\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n    onClickChosen() {\n        dispatch(push('/intro'));\n    }, \n    onClickAbout() {\n        dispatch(push('/about'));\n    }\n});\n\n\nWelcome = connect(undefined, mapDispatchToProps)(Welcome);\nWelcome = connect(null, { push })(Welcome);\n\nexport default Welcome;\n","import React, { Component } from 'react';\nimport loading from '../Assets/icon/loading.svg'\nimport styled from 'styled-components'\n\nconst Container = styled.div`\n`\n\n\nconst IMG = styled.img`\n    width: 32px;\n    height: 32px;\n    display: flex;\n    flex-direction: row;\n    align-content: center;\n    justify-content: center;\n`\n\n\n\nclass Loading extends Component {\n    render() {\n        return (\n            <Container className='Load'>\n                <IMG src={loading} alt=\"Loading\" />\n            </Container>\n        )\n    }\n}\n\nexport default Loading;","const getRects = (data, w, h) => {\n    const step = Math.ceil(data.length / w);\n    const amp = h / 2;\n    const rects = [];\n\n    for (let i = 0; i < w; i += 5) {\n        let [min, max] = [1, -1];\n        for (let j = 0; j < step; j++) {\n            const datum = data[i * step + j];\n            if (datum < min) min = datum;\n            if (datum > max) max = datum;\n        }\n\n        rects.push({\n            x: i,\n            y: (1 + min) * amp,\n            width: 1,\n            height: Math.max(1, (max - min) * amp)\n        });\n    }\n\n    return rects;\n};\n\nexport const drawWaveform = (canvas, data, color, active) => {\n    const ctx = canvas.getContext(`2d`);\n    const w   = canvas.width;\n    const h   = canvas.height;\n    const rects = getRects(data, w, h);\n    ctx.clearRect(0, 0, w, h);\n    ctx.fillStyle   = color;\n    ctx.globalAlpha = active ? 1 : 0.2;\n    rects.forEach((r) => ctx.fillRect(r.x, r.y, r.width, r.height));\n}","import fx from '../Assets/type/fx.svg'\nimport bass from '../Assets/type/bass.svg'\nimport chord from '../Assets/type/chord.svg'\nimport vocal from '../Assets/type/vocal.svg'\nimport melody from '../Assets/type/melody.svg'\nimport percussion from '../Assets/type/percussion.svg'\nconst mapTable = {\n    'percussion': {\n        'color': '#FF5ADA',\n        'icon' : percussion,\n    }, \n    'bass': {\n        'color': '#FF7D05',\n        'icon' : bass,\n    } , \n    'chord': {\n        'color': '#FFF500',\n        'icon' : chord,\n    },\n    'melody': {\n        'color': '#46E72C',\n        'icon' : melody,\n    }, \n    'vocal': {\n        'color': '#B23FF9',\n        'icon' : vocal,\n    }, \n    'fx': {\n        'color': '#05B4FF',\n        'icon' : fx,\n    }\n}\nexport const mapIcon = (group) => (mapTable[group]['icon'])\nexport const mapColor = (group) => (mapTable[group]['color'])\nexport const randomGroup = () => (Object.keys(mapTable)[Math.floor(Math.random() * Object.keys(mapTable).length)])\nexport const mapRange = (value, low1, high1, low2, high2) => (low2 + (high2 - low2) * (value - low1) / (high1 - low1))","import { Player } from \"tone\";\nimport { randomGroup } from './map'\nimport { default_volume } from './initial'\nconst server_url = \"https://musicai.citi.sinica.edu.tw/mashup_ml_server\";\n\nexport const getMainLoop = async (number) =>\n    await fetch(`${server_url}/get_main_loop/${number}`).then((response) =>\n        response.json()\n    );\nexport const getAccLoop = async (url, number) =>\n    await fetch(`${server_url}/get_mashup_result?url=${url}&num=${number}`).then((response) =>\n        response.json()\n    );\nexport const loadUrl = (url) => `${server_url}/download_filepath?url=${url}`;\nexport const loadPlayer = (url) => {\n    return new Promise((resolve) => {\n        const player = new Player(loadUrl(url), () => {\n            player.mute = false\n            player.volume.value = default_volume\n            player.toDestination();\n            resolve({\n                url,\n                player, \n                group: randomGroup(),\n            });\n        });\n    });\n};","import { v4 } from \"node-uuid\";\nimport * as api from \"../Utility/api\";\nconst main_num = 8;\nconst acc_num  = 12;\nexport const addPlayer = (response, loop_type) => ({\n    type: 'ADD_PLAYER',\n    loop_type,\n    response,\n    id: v4()\n});\nexport const refreshPlayer = () => ({\n    type: 'REFRESH_PLAYER',\n});\nexport const activatePlayer = (id) => ({\n    type: 'ACTIVATE_PLAYER',\n    id\n})\nexport const fetchMainPlayer = () => (dispatch) => {\n    dispatch({ type: 'REQUEST_START'})\n    return api.getMainLoop(main_num).then((response) => {\n        response['main'].map((url) =>\n            api.loadPlayer(url).then((response) => dispatch(addPlayer(response, 'main'))).then(() => (dispatch({\n                type: 'REQUEST_ADD',\n                num: main_num\n            })))\n        );\n    });\n};\nexport const fetchAccPlayer = (source_url) => (dispatch) => {\n    dispatch({ type: 'REQUEST_START' })\n    return api.getAccLoop(source_url, acc_num).then((response) => {\n        response['rank'].map((url) =>\n            api.loadPlayer(url).then((response) => dispatch(addPlayer(response, 'acc'))).then(() => (dispatch({\n                type: 'REQUEST_ADD',\n                num: acc_num\n            })))\n        );\n    });\n};\nexport const addTrack = (loop, track_num, loop_type) => ({\n    type: 'ADD_TRACK',\n    loop,\n    loop_type,\n    track_num\n})\nexport const removeTrack = (id) => ({\n    type: 'REMOVE_TRACK',\n    id\n})\nexport const activatePad = (id, index) => ({\n    type: 'ACTIVATE_PAD',\n    index,\n    id\n})\nexport const adjustVolume = (id, volume) => ({\n    type: 'ADJUST_VOLUME',\n    volume,\n    id\n})\nexport const toggleMute = (id) => ({\n    type: 'TOGGLE_MUTE',\n    id\n})\nexport const toggleSolo = (id) => ({\n    type: 'TOGGLE_SOLO',\n    id\n})\nexport const togglePlay = () => ({\n    type: 'TOGGLE_PLAY',\n})\nexport const changeBpm = (bpm) => ({\n    type: 'CHANGE_BPM',\n    bpm\n})\nexport const moveSequencer = () => ({\n    type: 'MOVE_SEQUENCER'\n});\nexport const changeTrackOrder = (source_index, target_index) => ({\n    type: 'CHANGE_ORDER',\n    source_index, \n    target_index\n})\nexport const drawFinish = (loop_type) => ({\n    type: 'DRAW_FINISH',\n    num: loop_type == 'main' ? main_num : acc_num\n});\nexport const introFinish = () => ({\n    type: 'INTRO_FINISH',\n});","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { connect } from \"react-redux\";\nimport { drawWaveform } from \"../Utility/draw\";\nimport { mapIcon, mapColor }from '../Utility/map'\nimport { rgba } from 'polished'\nimport { activatePlayer } from \"../Action\"; \n\nconst Container = styled.div`\n    justify-self: ${ props => props.pos && (props.pos == 'right' ? 'end' : 'start')};\n    position: relative;\n`\nconst Canvas = styled.canvas`\n  background-color: ${props => props.color == '' ? rgba('#000000', 0.2) : rgba(props.color, props.active ? 0.2 : 0.04)};\n  border-radius: 5px;\n\n  width : 100%;\n  height: 100%;\n\n  max-width: 160px;\n  max-height: 60px;\n`;\nconst IMG = styled.img`\n    top: 6.67%;\n    right: 2.5%;\n    position: absolute;\n    width: 16px;\n    height: 16px;\n    opacity: ${props => props.active ? 0.66 * 0.2 : 0.66}\n`\n\n\nclass Loop extends Component {\n    constructor(props) {\n        super(props);\n        this.canvasClick = this.canvasClick.bind(this);\n    }\n\n    componentDidMount() {\n        const { player, active, color } = this.props;\n        if(player) {\n            const canvas = this.canvas\n            const data = player.buffer.getChannelData()\n            drawWaveform(canvas, data, color, active);\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps === this.props) return;\n        const { player, active, color } = this.props;\n        if(player) {\n            const canvas = this.canvas\n            const data = player.buffer.getChannelData()\n            drawWaveform(canvas, data, color, active);\n            if (active) {\n                player.loop = true;\n                player.start();\n            } else {\n                player.loop = false;\n                player.stop();\n            }\n        } \n    }\n\n    canvasClick() {\n        const { onAtivatePlayer, id, player } = this.props\n        if(player) {\n            onAtivatePlayer(id)\n        }   \n    }\n\n\n    render() {\n        const { color, icon, active } = this.props\n\n        return (\n            <Container>\n                <Canvas\n                    active={active}\n                    color={color}\n                    ref={(x) => (this.canvas = x)}\n                    onClick={this.canvasClick}\n                />\n                {icon != '' && <IMG acitve={active} src={icon} alt='loop type'/> }\n            </Container>\n        );\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n    onAtivatePlayer(id) {\n        dispatch(activatePlayer(id))\n    }\n});\n\nconst mapStateToProps = (state, ownProps) => {\n    const loop = state['candidate']['loops'][ownProps.id]\n\n    return {\n        player: loop.player, \n        icon: loop.group ? mapIcon(loop.group) : '',\n        color: loop.group ? mapColor(loop.group) : '',\n        active: state['candidate']['activateId'] === ownProps.id,\n    };\n};\n\nLoop = connect(mapStateToProps, mapDispatchToProps)(Loop);\n\nexport default Loop;\n","import React, { Component } from 'react';\nimport styled from 'styled-components'\nimport { rgba } from 'polished'\nimport { connect } from \"react-redux\";\nimport  Loading  from '../Component/load'\nimport refresh from '../Assets/button/refresh.svg'\nimport Loop from '../Component/loop'\nimport { fetchMainPlayer, refreshPlayer, addTrack } from \"../Action\"; \nimport { push } from \"connected-react-router\";\nimport { isMobile } from \"react-device-detect\";\n\nconst Container = styled.div`\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 2em;\n\n    & * {\n        margin: 5px;\n    }\n`\nconst H1 = styled.div`\n    font-weight: 400;\n    font-size: 40px;\n    line-height: 48px;\n    text-transform: uppercase;  \n`\nconst Main = styled.div`\n    display: grid;\n    grid-template-rows: repeat(2, 1fr);\n    grid-template-columns: repeat(4, 1fr);\n`\nconst RefreshBlock = styled.div`\n    width: 100%;\n    grid-column: 1/ -1;\n    display: flex;\n    flex-direction: row;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 14px;\n    line-height: 16px;\n    text-align: justify;\n    color: ${rgba('#FFFFFF', 0.6)};\n    background: #212529;\n    justify-content: flex-end; \n    justify-self: flex-end;\n    margin-right: 0;\n`\nconst Refresh = styled.button`\n    border: 1px solid white;\n    display: flex;\n    justify-content: flex-end; \n    border: none;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 14px;\n    line-height: 16px;\n    text-align: justify;\n    color: ${rgba('#FFFFFF', 0.6)};\n    background: #212529;\n    text-transform: uppercase;\n    margin-right: 0;\n    & * {\n        margin-right: 0;\n    }\n    &:hover, :active {\n        background: ${ rgba('#ffffff', 0.2) };\n    }\n`\nconst Button = styled.button`\n    width: 160px;\n    height: 45px;\n    color: ${ props => rgba('#ffffff', props.active ? 1 : 0.2)};\n    border-radius: 2px;\n    font-weight: normal;  \n    box-sizing: border-box;\n    text-transform: uppercase;  \n    background-color: ${rgba('#ffffff', 0)};\n    border: 1px solid ${props => rgba('#ffffff', props.active ? 0.2 : 0.1)};\n    cursor: ${ props => props.active ? 'pointer' : 'default'};\n    pointer-events: ${ props => props.active ? 'auto' : 'none'};\n    &:hover, :active {\n        background: ${ rgba('#ffffff', 0.2) };\n    }\n`\n\nclass Chosen extends Component {\n    constructor(props) {\n        super(props);\n        this.next       = this.next.bind(this);\n        this.fetching = this.fetching.bind(this);\n    }\n\n\n    next() {\n        const { active, activeLoop, onAddTrack, track_num } = this.props\n        if(active) {\n            onAddTrack(activeLoop, track_num, 'main')\n        }\n    }\n\n    fetching() {\n        const { onFetchMainLoop } = this.props\n        onFetchMainLoop()\n    }\n\n    componentDidMount() {\n        const { onBackMobile } = this.props\n        if (isMobile) {\n            onBackMobile()\n        } else {\n            this.fetching()\n        }\n    }\n    \n    render() {\n        const { ids, active, loaded } = this.props;\n        return (\n            <Container className='Chosen'>\n                <H1>Choose One Main Loop First</H1>\n                <Main>\n                    {loaded && ids.map((id) => ( \n                        <Loop \n                            id={id} \n                            keys={id}\n                        />)\n                    )}\n                    {loaded && \n                        <RefreshBlock>\n                            <Refresh onClick={this.fetching}>\n                                <img src={refresh} />\n                                <p>Refresh</p>\n                            </Refresh>\n                        </RefreshBlock>\n                    }\n                </Main>\n                {loaded\n                    ? <Button active={active} onClick={this.next} >Next</Button>\n                    : <Loading />\n                }\n            </Container>\n        )\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n    onFetchMainLoop() {\n        dispatch(refreshPlayer())\n        dispatch(fetchMainPlayer())\n    }, \n    onAddTrack(loop, track_num, loop_type) {\n        dispatch(refreshPlayer())\n        dispatch(addTrack(loop, track_num, loop_type))\n        dispatch(push('/interface'))\n    }, \n    onBackMobile() {\n        dispatch(push('/mobile'))\n    },\n});\n\nconst mapStateToProps = (state) => {\n    return {\n        ids: state['candidate'].ids,\n        active: state['candidate']['activateId'] != '',\n        loaded: state['candidate']['loading'].loaded,\n        activeLoop: state['candidate'].loops[state['candidate']['activateId']],\n        track_num: state['decision'].ids.length\n    };\n};\nChosen = connect(mapStateToProps, mapDispatchToProps)(Chosen);\n\n\n\nexport default Chosen;\n","import React, { Component } from 'react';\nimport styled from 'styled-components'\nimport { rgba } from 'polished'\nimport { connect } from \"react-redux\";\nimport { push } from \"connected-react-router\";\n\nconst Container = styled.div`\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 2em;\n\n    & * {\n        margin: 5px;\n    }\n`\nconst H1 = styled.div`\n    font-family: Work Sans;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 36px;\n    line-height: 52px;\n    text-transform: uppercase;  \n`\nconst HR = styled.hr`\n    width: 800px;\n    opacity: 0.2;\n    border: 1px solid #FFFFFF;\n    box-sizing: border-box;\n`\nconst P = styled.p`\n    margin: 30px;\n    color: ${rgba('#ffffff', 0.8)};\n    width: 700px;\n    text-align: justify;\n    font-style: normal;\n    font-weight: 300;\n    font-size: 18px;\n    line-height: 160%;\n`\nconst A = styled.a`\n    padding: 3px;\n    color: #FFFFFF;\n    cursor: pointer;\n    text-decoration: none;\n    background: ${rgba('#ffffff', 0)};\n    &:hover {\n        background: ${rgba('#ffffff', 0.2)};\n        text-decoration: underline;\n    }\n`\nconst Button = styled.button`\n    width: 160px;\n    height: 45px;\n    color: #ffffff;\n    cursor: pointer;\n    border-radius: 2px;\n    font-weight: normal;  \n    box-sizing: border-box;\n    text-transform: uppercase;  \n    background-color: ${rgba('#ffffff', 0)};\n    border: 1px solid ${props => rgba('#ffffff', props.active ? 0.2 : 0)};\n    &:hover, :active {\n        background: ${ rgba('#ffffff', 0.2) };\n    }\n`\n\nclass About extends Component {\n    render() {\n        const { onClickClose } = this.props\n        return (\n            <Container className='About'>\n                <H1 class=\"title\">About</H1>\n                <HR/> \n                <P>Beats with You join force with AI to help you create beats designed by\n                    <A href='https://www.yachinhsiao.com/about' target=\"_blank\">YC Hsiao</A> & developed by\n                    <A href={'https://paulyuchen.com/'} target=\"_blank\">Bo-Yu Chen</A>. In this website, you are allowed to make beats by choosing the loops extracted from\n                    <A href={'https://freemusicarchive.org/'} target=\"_blank\">Free Music Archive</A>. \n                    On top of that, our AI models can help with recommending suitable loops for your work by calculating compatibility \n                    between loops. Please enjoy playing with loops here, and for further technical information, please check out the\n                    <A href='https://arxiv.org/abs/2008.02011' target=\"_blank\">Paper</A>.\n                </P>\n                <HR/> \n                <Button active={true} onClick={onClickClose}>Close</Button>\n            </Container>\n        )\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n    onClickClose() {\n        dispatch(push('/'));\n    }\n});\n\n\nAbout = connect(undefined, mapDispatchToProps)(About);\nAbout = connect(null, { push })(About);\n\n\nexport default About;\n","import React, { Component } from 'react';\nimport styled from 'styled-components'\nimport { rgba } from 'polished'\nimport { connect } from \"react-redux\";\nimport { push } from \"connected-react-router\";\n\nconst Container = styled.div`\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 2em;\n\n    & * {\n        margin: 5px;\n    }\n`\nconst H1 = styled.div`\n    font-family: Work Sans;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 36px;\n    line-height: 52px;\n    text-transform: uppercase;  \n`\nconst HR = styled.hr`\n    width: 800px;\n    opacity: 0.2;\n    border: 1px solid #FFFFFF;\n    box-sizing: border-box;\n`\nconst P = styled.p`\n    margin: 30px;\n    color: ${rgba('#ffffff', 0.8)};\n    width: 700px;\n    text-align: justify;\n    font-style: normal;\n    font-weight: 300;\n    font-size: 18px;\n    line-height: 160%;\n`\nconst A = styled.a`\n    padding: 3px;\n    color: #FFFFFF;\n    cursor: pointer;\n    text-decoration: none;\n    background: ${rgba('#ffffff', 0)};\n    &:hover {\n        background: ${rgba('#ffffff', 0.2)};\n        text-decoration: underline;\n    }\n`\nconst Button = styled.button`\n    width: 160px;\n    height: 45px;\n    color: #ffffff;\n    cursor: pointer;\n    border-radius: 2px;\n    font-weight: normal;  \n    box-sizing: border-box;\n    text-transform: uppercase;  \n    background-color: ${rgba('#ffffff', 0)};\n    border: 1px solid ${props => rgba('#ffffff', props.active ? 0.2 : 0)};\n    &:hover, :active {\n        background: ${ rgba('#ffffff', 0.2) };\n    }\n`\n\nclass Intro extends Component {\n    render() {\n        const { onClickNext } = this.props\n        return (\n            <Container className='Intro'>\n                <H1 class=\"title\">Intro</H1>\n                <HR/> \n                <P>Beats with You join force with AI to help you create beats designed by\n                    <A href='https://www.yachinhsiao.com/about' target=\"_blank\">YC Hsiao</A> & developed by\n                    <A href={'https://paulyuchen.com/'} target=\"_blank\">Bo-Yu Chen</A>. In this website, you are allowed to make beats by choosing the loops extracted from\n                    <A href={'https://freemusicarchive.org/'} target=\"_blank\">Free Music Archive</A>. \n                    On top of that, our AI models can help with recommending suitable loops for your work by calculating compatibility \n                    between loops. Please enjoy playing with loops here, and for further technical information, please check out the\n                    <A href='https://arxiv.org/abs/2008.02011' target=\"_blank\">Paper</A>.\n                </P>\n                <HR/> \n                <Button active={true} onClick={onClickNext}>Next</Button>\n            </Container>\n        )\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n    onClickNext() {\n        dispatch(push('/chosen'));\n    }\n});\n\n\nIntro = connect(undefined, mapDispatchToProps)(Intro);\nIntro = connect(null, { push })(Intro);\n\n\nexport default Intro;\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { connect } from \"react-redux\";\nimport { drawWaveform } from \"../Utility/draw\";\nimport { mapIcon, mapColor } from '../Utility/map'\nimport { rgba } from 'polished'\nimport { activatePlayer, drawFinish } from \"../Action\";\nconst Container = styled.div`\n    justify-self: ${props => props.pos && (props.pos == 'right' ? 'end' : 'start')};\n    position: relative;\n    width : 100%;\n    height: 100%;\n    border: 1px solid\n    max-width: 160px;\n    max-height: 60px;\n`\nconst Canvas = styled.canvas`\n  background-color: ${props => props.color != '' ? rgba(props.color, props.active ? 0.2 : 0.04) : rgba('#000000', 0.5)};\n  border-radius: 5px;\n  width : 100%;\n  height: 100%;\n`;\nconst IMG = styled.img`\n    top: 6.67%;\n    right: 2.5%;\n    position: absolute;\n    width: 16px;\n    height: 16px;\n    opacity: ${props => props.active ? 0.66 * 0.2 : 0.66}\n`\n\n\nclass DragLoop extends Component {\n    constructor(props) {\n        super(props);\n        this.canvasClick = this.canvasClick.bind(this);\n    }\n\n    componentDidMount() {\n        const { player, active, color, onDrawFinish } = this.props;\n        if (player) {\n            const canvas = this.canvas\n            const data = player.buffer.getChannelData()\n            drawWaveform(canvas, data, color, active);\n            onDrawFinish('acc')\n        }\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps === this.props) return;\n        const { player, active, color, play, bar } = this.props;\n        if (player) {\n            const canvas = this.canvas\n            const data = player.buffer.getChannelData()\n            drawWaveform(canvas, data, color, active);\n\n            if (play) {\n                if(bar == -1) {\n                    player.stop()\n                }\n                if(active) {\n                    player.start()\n                }\n            } else {\n                if (active) {\n                    player.start()\n                    player.loop = true\n                }\n            }\n\n            if(!active) {\n                player.stop()\n            }\n        }\n    }\n\n    canvasClick() {\n        const { onAtivatePlayer, id, player } = this.props\n        if(player) {\n            onAtivatePlayer(id)\n        }\n    }\n\n\n    render() {\n        const { color, icon, active } = this.props\n        return (\n            <Container>\n                <Canvas\n                    active={active}\n                    color={color}\n                    ref={(x) => (this.canvas = x)}\n                    onClick={this.canvasClick}\n                />\n                { icon != '' && <IMG acitve={active} src={icon} alt='loop type' />}\n            </Container>\n        );\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n    onAtivatePlayer(id) {\n        dispatch(activatePlayer(id))\n    }, \n    onDrawFinish(loop_type) {\n        console.log('drawFinish')\n        dispatch(drawFinish(loop_type))\n    } \n});\n\nconst mapStateToProps = (state, ownProps) => {\n    const loop = state['candidate']['loops'][ownProps.id]\n    return {\n        player: loop.player,\n        icon: loop.group ? mapIcon(loop.group) : '',\n        color: loop.group ? mapColor(loop.group) : '',\n        active: state['candidate']['activateId'] === ownProps.id,\n        play: state['decision']['control'].playing,\n        bar: state['decision']['control'].bar\n    };\n};\n\nDragLoop = connect(mapStateToProps, mapDispatchToProps)(DragLoop);\n\nexport default DragLoop;\n","import swal from 'sweetalert';\nexport const notify = (title, text) => (swal({\n    title,\n    text,\n    buttons: {\n        cancel: \"Close\",\n    },\n}))","import React, { Component } from 'react';\nimport styled from 'styled-components'\nimport { rgba } from 'polished'\nimport arrow from '../Assets/icon/arrow.svg'\nimport recycle from '../Assets/icon/recycle.svg'\nimport DragLoop from './dragloop'\nimport refresh from '../Assets/button/refresh.svg'\nimport add from '../Assets/button/add.svg'\nimport Loading from './load'\nimport { fetchAccPlayer, refreshPlayer, addTrack } from \"../Action\"; \nimport { connect } from \"react-redux\";\nimport { notify } from '../Utility/alert'\n\nconst LoadContainer = styled.div`\n    height: 100%;\n    width : 100%;\n    display: grid;\n    align-items: center;\n    flex-direction: row;\n    align-content: center;\n    justify-content: center;\n    margin-top: auto;\n`\nconst Container = styled.div`\n    height: 100%;\n    width : 100%;\n    background-color: #282B2E;\n    display: flex;\n    flex-direction: row;\n\n    align-content: center;\n    justify-content: center;\n    margin-top: auto;\n`\nconst Block = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-self: center;\n    width : 90%;\n    height: 90%;\n`\nconst CONTENT = styled.div`\n    padding: 10px;\n    margin-top: 10px;\n`\nconst TITLE = styled.div`\n    display: flex;\n    padding: 3px;\n    & * {\n        margin: 0px 5px;\n    }\n`\nconst P = styled.p`\n    font-style: normal;\n    font-weight: normal;\n    font-size: 32px;\n    line-height: 38px;\n    display: flex;\n    align-items: center;\n    text-transform: uppercase;\n    color: #FFFFFF;\n`\nconst DROPDOWN = styled.div`\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    height: 45px;\n    color: #FFFFFF;\n    cursor: pointer;\n    background: ${ rgba('#3A3E43', 0) };\n    border: 1px solid ${ rgba('#FFFFFF', 0.2) };\n    box-sizing: border-box;\n    align-items: center;\n    justify-content: center;\n    border-radius: 2px;\n`\nconst SPAN = styled.span`\n    font-style: normal;\n    font-weight: normal;\n    font-size: 14px;\n    line-height: 16px;\n    letter-spacing: 0.2px;\n    text-transform: uppercase;\n`\nconst ARROW = styled.img`\n    position: absolute;\n    top: 50%;\n    right: 10%;\n    transform: translateY(-50%);\n`\n\nconst Loops = styled.div` \n    padding-top: 10px;\n    margin-top: 40px;\n    width: 100%;\n    height: 100%;\n    display: grid;\n    grid-template-rows: 1fr 1fr 1fr 1fr 1fr 1fr;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 1rem;\n`\nconst ButtonBlock = styled.div`\n    width: 100%;\n    grid-column: 1/ -1;\n    display: flex;\n    flex-direction: row;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 14px;\n    line-height: 16px;\n    text-align: justify;\n    color: ${rgba('#FFFFFF', 0.6)};\n    background: #282B2E;\n    justify-content: space-between; \n`\nconst Refresh = styled.button`\n    display: flex;\n    border: none;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 14px;\n    line-height: 16px;\n    text-align: justify;\n    color: ${rgba('#FFFFFF', 0.6)};\n    background: transparent;\n    text-transform: uppercase;\n    border-radius: 5px;\n    & * {\n        padding: 5px;\n    }\n    &:hover, :active {\n        background: ${rgba('#FFFFFF', 0.2)};\n    }\n\n`\nconst ADD = styled.button`\n    display: flex;\n    border: none;\n    align-items: center;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 14px;\n    line-height: 16px;\n    justify-content: center;\n    color: ${rgba('#FFFFFF', 0.6)};\n    background: transparent;\n    text-transform: uppercase;\n    border-radius: 5px;\n\n    & p {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n    }\n\n    & img {\n        display: grid;\n        align-items: center;\n        justify-content: center;\n    }\n\n    & * {\n        padding: 2px;\n    }\n    &:hover, :active {\n        background: ${rgba('#FFFFFF', 0.2)};\n    }\n\n`\n\nclass Search extends Component {\n    constructor(props) {\n        super(props);\n        this.fetching = this.fetching.bind(this);\n        this.adding = this.adding.bind(this);\n        this.genreSelect = this.genreSelect.bind(this);\n    }\n\n    componentDidMount() {\n        this.fetching()\n    }\n    \n    genreSelect() {\n        notify(\n            'The feature is coming soon !',\n            'Interested in \"filtering music genres\"?\\nClick \"Feedback\" button to share your preference with us!')\n    }\n    adding() {\n        const { activeLoop, onAddTrack, track_num, active } = this.props\n        if (active) {\n            if (track_num >= 5) {\n                notify(\n                    'Over the limit !',\n                    'Tracks number exceeds the upper limit, \\ndeleted some tracks to continue.')\n            } else {\n                onAddTrack(activeLoop, track_num, 'acc')\n                this.fetching()\n            }\n        }\n    }\n\n    fetching() {\n        const { onFetchAccLoop, sourceUrl } = this.props\n        onFetchAccLoop(sourceUrl)\n    }\n\n\n    render() {\n        const { ids, loaded, intro } = this.props;\n        return (\n            <Container className='Search'>\n                <Block className='search-block'>\n                    <TITLE>\n                        <img src={recycle} alt=\"Recycle Icon\" />\n                        <P>Loop</P>\n                    </ TITLE>\n                    <CONTENT>\n                        <DROPDOWN onClick={this.genreSelect}> \n                            <ARROW src={arrow} alt=\"Arrow\" />\n                            <SPAN>Hip-Hop</SPAN>\n                        </DROPDOWN>\n                        {loaded && \n                            <Loops className='acc_loops'>\n                                {ids.map((id, index) => (\n                                    <DragLoop\n                                        index={index}\n                                        id={id}\n                                        keys={id}\n                                    />\n                                ))}\n                            </Loops>\n                        }\n                        {loaded &&\n                            <ButtonBlock>\n                                <ADD onClick={this.adding} className='add_track'>\n                                    <img src={add} />\n                                    <p>Add</p>\n                                </ADD>\n                                <Refresh onClick={this.fetching} className='refresh'>\n                                    <img src={refresh} />\n                                    <p>Refresh</p>\n                                </Refresh>\n                            </ButtonBlock>\n                        }\n                        {!loaded && intro && <LoadContainer><Loading/></LoadContainer>}\n                    </ CONTENT>\n                </Block>\n            </Container>\n        )\n    }\n}\n\n\nconst mapDispatchToProps = (dispatch) => ({\n    onFetchAccLoop(url) {\n        dispatch(refreshPlayer())\n        dispatch(fetchAccPlayer(url))\n    }, \n    onAddTrack(loop, track_num, loop_type) {\n        dispatch(addTrack(loop, track_num, loop_type))\n    }\n});\nconst mapStateToProps = (state) => {\n    const trackIds = state['decision'].ids\n\n    return {\n        track_num: state['decision'].ids.length,\n        ids: state['candidate'].ids,\n        track_num: state['decision'].ids.length,\n        loaded: state['candidate']['loading'].loaded,   \n        active: state['candidate']['activateId'] != '',\n        activeLoop: state['candidate'].loops[state['candidate']['activateId']],\n        sourceUrl: trackIds.length > 0 ? state['decision']['tracks'][trackIds[trackIds.length - 1]].url : undefined,\n        intro: state['decision'].intro\n    }\n};\nSearch = connect(mapStateToProps, mapDispatchToProps)(Search)\nexport default Search;","import React, { Component } from 'react';\nimport styled from 'styled-components'\nimport { connect } from \"react-redux\";\nimport { rgba } from 'polished'\nimport play from '../Assets/button/play.svg'\nimport pause from '../Assets/button/pause.svg'\nimport arrow from '../Assets/icon/arrow.svg'\nimport { togglePlay, changeBpm } from '../Action'\nimport { Transport } from \"tone\";\nimport { notify } from '../Utility/alert'\nconst Container = styled.div`\n    width : 100%;\n    height: 100%;\n    display: grid;\n    background-color: #2F3236;\n`\nconst Block = styled.div`\n    width: 85%;\n    height: 80%;\n    align-self: center;\n    justify-self: center;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n`\nconst PLAY = styled.img`\n    margin-right: 30px;\n    cursor: pointer;\n`\nconst DROPDOWN = styled.div`\n`\nconst CONTENT = styled.div`\n    display: none;\n    position: absolute;\n    min-width: 160px;\n    box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);\n    z-index: 1;\n`\nconst A = styled.div`\n    color: black;\n    padding: 12px 16px;\n    text-decoration: none;\n    display: block;\n`\nconst BUTTON = styled.button`\n    position: relative;\n    width: 180px;\n    height: 45px;\n    color: #FFFFFF;\n    background: ${rgba('#3A3E43', 0)};\n    border: 1px solid ${rgba('#FFFFFF', 0.2)};\n    box-sizing: border-box;\n    border-radius: 2px;\n`\nconst SPAN = styled.span`\n    font-style: normal;\n    font-weight: normal;\n    font-size: 14px;\n    line-height: 16px;\n    letter-spacing: 0.2px;\n    text-transform: uppercase;\n`\nconst ARROW = styled.img`\n    position: absolute;\n    top: 50%;\n    right: 10%;\n    transform: translateY(-50%);\n`\nconst SAVE = styled.button`\n    margin-left: auto;\n    margin-right: 0;\n    color: #FFFFFF;\n    background-color: ${rgba('#ffffff', 0)};\n    border: 1px solid ${rgba('#ffffff', 0.2)};\n    font-weight: normal;\n    box-sizing: border-box;\n    border-radius: 2px;\n    width: 160px;\n    height: 45px;\n    text-transform: uppercase;\n    cursor: pointer;\n    &:hover, :active {\n        background: ${ rgba('#ffffff', 0.2) };\n    }\n`\nclass Control extends Component {\n    constructor(props) {\n        super(props);\n        this.controlPlay = this.controlPlay.bind(this)\n        this.controlBpm = this.controlBpm.bind(this)\n        this.save = this.save.bind(this)\n    }\n\n    controlPlay() {\n        const { onTogglePlay } = this.props\n        onTogglePlay()\n    }\n\n    controlBpm() {\n        notify(\n            'The feature is coming soon !',\n            'Interested in \"adjusting BPM of loops\"? \\n Click \"Feedback\" button to share your preference with us!')\n        // const { bpm, controlBpm } = this.props\n        // controlBpm(bpm)\n    }\n\n    save() {\n        window.open('https://reurl.cc/N6bWpk', '_blank');\n    }\n\n    componentDidUpdate() {\n        const { playing } = this.props\n        if(playing) {\n            Transport.start()\n        } else {\n            Transport.stop()\n        }\n    }\n\n    render() {\n        const { playing, bpm } = this.props\n        return (\n            <Container className='control'>\n                <Block className='control-block'>\n                    <PLAY src={playing ? pause : play} alt='Play' onClick={this.controlPlay}/>\n                    <DROPDOWN>\n                        <BUTTON onClick={this.controlBpm}>\n                            <SPAN>{bpm} Bpm</SPAN>\n                            <ARROW src={arrow} alt=\"Arrow\" />\n                        </BUTTON>\n                        <CONTENT>\n                            <A href=\"#\">Link 1</A>\n                            <A href=\"#\">Link 2</A>\n                            <A href=\"#\">Link 3</A>\n                        </CONTENT>\n                    </DROPDOWN>\n                    <SAVE onClick={this.save} className='feedback'>Feedback</SAVE>\n                </Block>\n            </Container>\n        )\n    }\n}\n\n\nconst mapDispatchToProps = (dispatch) => ({\n    onTogglePlay() {\n        dispatch(togglePlay())\n    },\n    onChangeBpm(bpm) {\n        dispatch(changeBpm(bpm))\n    }\n});\n\nconst mapStateToProps = (state) => {\n    return {\n        bpm: state['decision']['control'].bpm,\n        playing: state['decision']['control'].playing,\n    }\n};\nControl = connect(mapStateToProps, mapDispatchToProps)(Control);\nexport default Control;","import React, { Component } from 'react';\nimport { Droppable } from \"react-beautiful-dnd\";\nimport styled from 'styled-components'\nimport DragLoop from './dragloop'\n\nconst Container = styled.div`\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n\n`\nconst Block = styled.div`\n    width: 85%;\n    height: 100%;\n    justify-self: center;\n    justify-content: start;\n    align-items: center;\n    display: flex;\n    flex-direction: column;\n    margin-top: 10px;\n`\nconst TITLE = styled.div`\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    & * {\n        margin: 10px;\n        margin-left: 0px;\n    }\n`\nconst P = styled.p`\n    display: flex;\n    text-transform: uppercase;\n`\nconst HR = styled.hr`\n    margin: 10px 0px;\n    width: 100%;\n    opacity: 0.2;\n    border: 1px solid #FFFFFF;\n    box-sizing: border-box;\n`\nconst PARKS = styled.div`\n    display: flex;\n    flex-direction: row;\n    width: 100%;\n    height: 100%;\n    opacity: 0.5;\n    justify-content: start;\n    align-items: start;\n    text-transform: uppercase;\n    & * {\n        margin-right: 20px;\n        margin-left: 0px;\n    }\n`\n\n\nclass Park extends Component {\n    render() {\n        return (\n            <Container className='park'>\n                <Block>\n                    <TITLE>\n                        <P>Parking List</P>\n                        <HR />\n                    </TITLE>\n                    <PARKS>\n                        Coming Soon ......\n                    </PARKS>\n                </ Block>\n            </Container>\n        )\n    }\n}\n\nexport default Park;","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { connect } from \"react-redux\";\nimport { drawWaveform } from \"../Utility/draw\";\nimport { mapIcon, mapColor }from '../Utility/map'\nimport { rgba } from 'polished'\nimport { activatePlayer } from \"../Action\"; \nconst Container = styled.div`\n    justify-self: ${ props => props.pos && (props.pos == 'right' ? 'end' : 'start')};\n    position: relative;\n`\nconst Canvas = styled.canvas`\n  background-color: ${props => props.color == '' ? rgba('#000000', 0.2) : rgba(props.color, props.active ? 0.2 : 0.04)};\n  border-radius: 5px;\n\n  width : 100%;\n  height: 100%;\n\n`;\nconst IMG = styled.img`\n    top: 6.67%;\n    right: 2.5%;\n    position: absolute;\n    width: 16px;\n    height: 16px;\n    opacity: ${props => props.active ? 0.66 * 0.2 : 0.66}\n`\n\n\nclass DropLoop extends Component {\n    constructor(props) {\n        super(props);\n    }\n    componentDidMount() {\n        const { player, active, color, play, mute, volume, track_num, bar } = this.props;\n        console.log('track: ', track_num, ' bar: ', bar, 'play: ', play)\n        if (player) {\n            const canvas = this.canvas\n            const data = player.buffer.getChannelData()\n            drawWaveform(canvas, data, color, active);\n            player.mute = mute\n            player.volume.value = volume\n            player.fadeIn = '2n'\n            player.fadeOut = '4n'\n            if (play) {\n                player.start();\n            } else {\n                player.stop();\n            }\n        } \n    }\n\n    componentWillUnmount() {\n        const { player } = this.props\n        player.stop()\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps === this.props) return;\n        const { player, active, color, play, mute, volume, soloId, id, bar } = this.props;\n        if(player) {\n            const canvas = this.canvas\n            const data = player.buffer.getChannelData()\n            drawWaveform(canvas, data, color, active);\n            player.volume.value = volume\n            if (soloId) {\n                console.log(soloId, id)\n                player.mute = id == soloId ? false : true\n            } else {\n                player.mute = mute\n            }\n            if (prevProps.bar == bar) return\n            if (play) {\n                player.start();\n            } else {\n                player.stop();\n            }\n        } \n    }\n\n\n    render() {\n        const { color, icon, active, pos } = this.props\n\n        return (\n            <Container pos={pos}>\n                <Canvas\n                    active={active}\n                    color={color}\n                    ref={(x) => (this.canvas = x)}\n                    onClick={this.canvasClick}\n                />\n                {icon != '' && <IMG acitve={active} src={icon} alt='loop type'/> }\n            </Container>\n        );\n    }\n}\nconst mapDispatchToProps = (dispatch) => ({\n    onAtivatePlayer(id) {\n        dispatch(activatePlayer(id))\n    }\n});\n\nconst mapStateToProps = (state, ownProps) => {\n    const loop = state['decision'].tracks[ownProps.id]\n    const soloIds = Object.keys(state['decision'].tracks).filter((id) => state['decision'].tracks[id].solo)\n    return {\n        track_num: state['decision'].tracks[ownProps.id].track_num,\n        player: loop.player,\n        active: state['decision']['control'].playing,\n        color : loop.group?mapColor(loop.group): '',\n        icon  : loop.group?mapIcon(loop.group) : '',\n        play  : state['decision'].tracks[ownProps.id].pads[state['decision']['control'].bar],\n        volume: state['decision'].tracks[ownProps.id].volume,\n        mute  : state['decision'].tracks[ownProps.id].mute,\n        soloId: soloIds.length > 0 ? soloIds[0] : '',\n        bar: state['decision']['control'].bar,\n    };\n};\n\nDropLoop = connect(mapStateToProps, mapDispatchToProps)(DropLoop);\nexport default DropLoop;\n","import React, { Component } from 'react';\nimport styled from 'styled-components'\nimport { connect } from \"react-redux\";\nimport { mapRange } from '../Utility/map'\nimport { adjustVolume } from '../Action'\nconst SLIDER = styled.input.attrs({\n    type: 'range',\n})` \n    -webkit-appearance: none;\n    background: none;\n    outline: none;\n    border-radius: 0;\n    cursor: pointer;\n                            \n    position: relative;\n    &::-webkit-slider-runnable-track {\n        background-color: #FFFFFF;\n        height: 1px;\n    }\n                            \n\n    &::-webkit-slider-thumb {\n        position: relative;\n        -webkit-appearance: none;\n        background-color: #212529;\n        border: 1px solid #FFFFFF;\n        width: 16px;\n        height: 16px;\n        border-radius: 50%;\n        top: -6px;\n    }\n`\n\nclass Slider extends Component {\n    constructor(props) {\n        super(props)\n        this.onVolume = this.onVolume.bind(this)\n    }\n\n    onVolume(event) {\n        const { id, onAdjustVolume } = this.props\n        const volume = mapRange(event.target.value, 0, 100, -20, -1)\n        onAdjustVolume(id, volume)\n    }\n\n    render() {\n        const { volume } = this.props\n        console.log(volume)\n        console.log('Value: ', mapRange(volume, -20, -1, 0, 100))\n        return (\n            <SLIDER min='0' max='100' value={mapRange(volume, -20, -1, 0, 100)} onInput={this.onVolume}/>\n        )\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n    onAdjustVolume(id, index) {\n        dispatch(adjustVolume(id, index))\n    },\n});\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        volume: state['decision'].tracks[ownProps.id].volume\n    }\n};\n\nSlider = connect(mapStateToProps, mapDispatchToProps)(Slider);\n\nexport default Slider;","import React, { Component } from 'react';\nimport styled from 'styled-components'\nimport { rgba } from 'polished'\nimport { connect } from \"react-redux\";\nimport { loadUrl } from '../Utility/api'\nimport download from '../Assets/button/download.svg'\nimport Slider from './slider'\nimport { toggleMute, toggleSolo } from '../Action'\nconst Container = styled.div`\n    display: grid;\n    margin-left: 10px;\n    & * {\n        margin: 0px 5px;\n    }\n`\nconst CONTROL = styled.div`\n    align-self: flex-start;\n    display: flex;\n    align-items: flex;\n    justify-content: space-between;\n`\nconst Button = styled.button`\n    margin-left: 0px;\n    color: #FFFFFF;\n    background-color: ${props => rgba('#ffffff', props.active ? 0.2 : 0)};\n    font-weight: normal;\n    border: 1px solid ${rgba('#FFFFFF', 0.2)};\n    box-sizing: border-box;\n    border-radius: 2px;\n    text-transform: uppercase;\n    font-size: 10px;\n    text-align: center;\n    width: 100%;\n    height: 100%;\n    min-width : 50px;\n    min-height: 30px;\n`\nconst DOWNLOAD = styled.a`\n    border: none;\n    display: flex;\n    background-color: ${rgba('#FFFFFF', 0)};\n    margin-right: 0px;\n    \n`\n\nclass Manage extends Component {\n    constructor(props) {\n        super(props);\n        this.mute = this.mute.bind(this);\n        this.solo = this.solo.bind(this);\n    }\n\n    mute() {\n        const { id, onToggleMute } = this.props\n        onToggleMute(id)\n    }\n\n    solo() {\n        const { id, onToggleSolo } = this.props\n        onToggleSolo(id)\n    }\n\n    render() {\n        const { id, mute, solo, url } = this.props\n        return (\n            <Container>\n                <CONTROL>\n                    <Button onClick={this.mute} active={mute}>Mute</Button>\n                    <Button onClick={this.solo} active={solo}>Solo</Button>\n                    <DOWNLOAD href={loadUrl(url)    }>\n                        <img src={download} />\n                    </DOWNLOAD>\n                </CONTROL>\n                <Slider id={id}/>\n            </Container>\n        )\n    }\n}\nconst mapDispatchToProps = (dispatch) => ({\n    onToggleMute(id) {\n        dispatch(toggleMute(id))\n    },\n    onToggleSolo(id) {\n        dispatch(toggleSolo(id))\n    }\n});\nconst mapStateToProps = (state, ownProps) => {\n    const url = state['decision'].tracks[ownProps.id].url\n    const mute = state['decision'].tracks[ownProps.id].mute\n    const solo = state['decision'].tracks[ownProps.id].solo\n    return {\n        url: url ? url : '',\n        mute: mute ? mute : false,\n        solo: solo ? solo : false,\n    }\n};\nManage = connect(mapStateToProps, mapDispatchToProps)(Manage);  \nexport default Manage;","import React, { Component } from 'react';\nimport styled from 'styled-components'\nimport { removeTrack } from '../Action'\nimport { connect } from \"react-redux\";\nimport trash from '../Assets/button/trash.svg'\nimport trash_block from '../Assets/button/trash_block.svg'\nimport { rgba } from 'polished'\n\nconst CONTAINER = styled.div`\n    margin-left: 10px;\n    color: #ffffff;\n    cursor: pointer;\n    border-radius: 2px;\n    font-weight: normal;\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    text-transform: uppercase;\n    background-color: ${rgba('#ffffff', 0)};\n    pointer-events: ${ props => props.deletable ? 'auto' : 'none'};\n    &:hover, :active {\n        background-color: ${props => rgba('#ffffff', props.deletable ? 0.2 : 0)};\n    }\n`\nconst IMG = styled.img`\n    width: 18px;\n    height: 18px;\n    opacity: ${props => props.deletable ? 0.66 : 0.66 * 0.2}\n`\n\n\nclass Trash extends Component {\n    constructor(props) {\n        super(props)\n        this.deleting = this.deleting.bind(this)\n    }\n\n    deleting() {\n        const { onRemoveTrack, id } = this.props\n        onRemoveTrack(id)\n    }\n\n    render() {\n        const { deletable } = this.props\n        console.log(deletable)\n        return (\n            <CONTAINER onClick={this.deleting} deletable={deletable}>\n                <IMG deletable={deletable} src={deletable ? trash : trash_block} />\n            </CONTAINER>\n        )\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n    onRemoveTrack(id) {\n        dispatch(removeTrack(id))\n    },\n});\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        deletable: state['decision'].tracks[ownProps.id].loop_type == 'acc'\n    }\n};\n\nTrash = connect(mapStateToProps, mapDispatchToProps)(Trash);\n\nexport default Trash;","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { connect } from \"react-redux\";\nimport { mapColor } from '../Utility/map'\nimport { activatePad } from '../Action'\nconst Container = styled.div`\n    width: 100%;\n    margin: 0px 10px;\n    border-radius: 5px;\n    background-color: ${(props) => (props.color ? props.color : '#000000')};\n    opacity: ${(props) => (props.play ? props.active ? 1 : 0.4 : props.active ? 0.2 : 0.04)};\n`;\n\nclass Pad extends Component {\n    constructor(props) {\n        super(props);\n        this.padClick = this.padClick.bind(this);\n    }\n\n    padClick() {\n        const { onActivatePad, id, index } = this.props\n        onActivatePad(id, index)\n    }\n\n    render() {\n        const { active, color, play } = this.props;\n        return <Container \n            play={play}\n            active={active} \n            color={color} \n            onClick={this.padClick}\n        />;\n    }\n}\nconst mapDispatchToProps = (dispatch) => ({\n    onActivatePad(id, index) {\n        dispatch(activatePad(id, index))\n    }\n});\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        color: mapColor(state['decision'].tracks[ownProps.id].group),\n        active: state['decision'].tracks[ownProps.id].pads[ownProps.index],\n        play: state['decision']['control'].bar === ownProps.index\n    }\n};\nPad = connect(mapStateToProps, mapDispatchToProps)(Pad);\nexport default Pad;\n","import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport Pad from \"./pad\";\nimport { connect } from \"react-redux\";\nimport { intializePads } from '../Utility/initial'\nconst Container = styled.div`\n    display: flex;\n    margin-left: 10px;\n    width: 100%;\n    max-height: 60px;\n`;\n\nclass Pads extends Component {\n    render() {\n        const { id } = this.props;\n        const pads = id != '' ? this.props.pads : intializePads(0);\n        return (\n            <Container>\n                {pads.map((_, index) => (\n                    <Pad\n                        id={id}\n                        pads={pads}\n                        key={`${id}${index}`}\n                        index={index}\n                    />\n                ))}\n            </Container>\n        );\n    }\n}\n\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        pads: state['decision'].tracks[ownProps.id].pads\n    }\n};\n\nPads = connect(mapStateToProps, undefined)(Pads);\n\n\nexport default Pads;\n","import React, { Component } from 'react';\nimport { Draggable } from \"react-beautiful-dnd\";\nimport styled from 'styled-components'\nimport DropLoop from './droploop'\nimport Manage from './manage'\nimport Trash from './trash'\nimport { connect } from \"react-redux\";\nimport Pads from './pads'\n\nconst Container = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    width: 100%;\n    height: 100%;\n    max-height: 60px;\n    margin-top: 5px;\n    margin-bottom: 20px;\n    padding: 5px 0px;   \n`\n\n\nclass Track extends Component {\n    render() {\n        const { id, index, recommend } = this.props\n        return (\n            <Draggable key={id} draggableId={id} index={index}>\n                {(provided, snapshot) => {\n                    return (\n                        <Container\n                            className='track'\n                            recommend={recommend}\n                            ref={provided.innerRef}\n                            {...provided.draggableProps}\n                            {...provided.dragHandleProps}\n                        >\n                            <DropLoop id={id} keys={id} />\n                            <Manage id={id} keys={id} />\n                            <Pads id={id} keys={id} />\n                            <Trash id={id} keys={id} />\n                        </Container>\n                    );\n                }}\n            </Draggable>\n        )\n    }\n}\n\n// const mapDispatchToProps = (dispatch) => ({\n//     onFetchMainLoop() {\n//         dispatch(refreshPlayer())\n//         dispatch(fetchMainPlayer())\n//     },\n//     onAddTrack(loop) {\n//         dispatch(refreshPlayer())\n//         dispatch(addTrack(loop))\n//         dispatch(push('/interface'))\n//     }\n// });\n\nconst mapStateToProps = (state, ownProps) => {\n    const tracks = state['decision'].tracks\n    const ids = state['decision'].ids\n    return {\n        track: tracks[ownProps.id],\n        recommend: ids[ids.length-1] === ownProps.id\n    }\n};\n\nTrack = connect(mapStateToProps, undefined)(Track);\n\nexport default Track;","import React, { Component } from 'react';\nimport styled from 'styled-components'\nimport { connect } from \"react-redux\";\nimport { Droppable } from \"react-beautiful-dnd\";\nimport Track from './track'\nconst Container = styled.div`\n    width : 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    margin-top: 20px;\n    padding: 0px;\n`\n\nclass Tracks extends Component {\n    render() {\n        const { ids } = this.props\n        return (\n            <Droppable key='droppable-tracks' droppableId='droppable-tracks'>\n                {(provided) => (\n                    <Container\n                        className='tracks'\n                        ref={provided.innerRef}\n                        {...provided.droppableProps}\n                    >\n                        {ids.map((id, index) => (<Track id={id} key={id} index={index}/>))}\n                        {provided.placeholder}\n                    </Container>\n                )}\n            </Droppable>\n        )\n    }\n}\n\n\nconst mapStateToProps = (state) => {\n    const ids = state['decision'].ids\n    return {\n        ids\n    }\n};\n\nTracks = connect(mapStateToProps, undefined)(Tracks);\n\n\nexport default Tracks;","import React, { Component } from 'react';\nimport styled from 'styled-components';\n\nimport { Transport } from \"tone\";\nimport { moveSequencer } from '../Action'\nimport { connect } from \"react-redux\";\nimport Tracks from './tracks'\nimport { rgba } from 'polished'\n\nconst Container = styled.div`\n    width : 100%;\n    height: 100%;\n    display: grid;\n    align-items: center;\n`\n\nconst TracksContainer = styled.div`\n    display: flex;\n    width : 100%;\n    height: 100%;\n`\nconst Block = styled.div`\n    width: 85%;\n    height: 100%;\n    justify-self: center;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    margin-bottom: 30px;\n`\nconst TITLE = styled.div`\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n\n    & * {\n        margin: 5px;\n    }\n`\nconst P = styled.p`\n    display: flex;\n    justify-content: flex-start;\n    text-transform: uppercase;\n`\nconst T = styled.p`\n    font-weight: 100;\n    font-size: 0.75rem;\n    color: ${rgba('#FFFFFF', 0.6)};\n    text-transform: none;\n    text-align: left;\n`\nconst HR = styled.hr`\n    margin: 10px 0px;\n    width: 100%;\n    opacity: 0.2;\n    border: 1px solid #FFFFFF;\n    box-sizing: border-box;\n`\n\nclass Sequencer extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n        const { onMoveSequencer, bpm, location } = this.props\n        console.log(location)\n        Transport.scheduleRepeat(() => {\n            onMoveSequencer();\n        }, '1n');\n        Transport.bpm.value = bpm;\n    }\n\n    render() {\n        return (\n            <Container className='sequencer'>\n                <Block className='sequencer-block'>\n                    <TITLE>\n                        <P className='sequencer-p'>\n                            Sequencer &nbsp;\n                            <T>AI recommends loops in Loop area according to the last track here. Just drag and drop a waveform to adjust the order!</T>\n                        </P>\n                        <HR />\n                    </TITLE>\n                    <TracksContainer>\n                        <Tracks className='tracks_drop'/>\n                    </ TracksContainer>\n                </Block>\n            </Container>\n        )\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n    onMoveSequencer() {\n        dispatch(moveSequencer())\n    }\n});\n\nconst mapStateToProps = (state) => {\n    return {\n        bpm: state['decision']['control'].bpm,\n        playing: state['decision']['control'].playing,\n        location: state['router'].pathname\n    }\n};\nSequencer = connect(mapStateToProps, mapDispatchToProps)(Sequencer);  \n\nexport default Sequencer;","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport Control from './control'\nimport Park from './park'\nimport Sequencer from './sequencer'\nimport { rgba } from 'polished'\nimport { Droppable } from \"react-beautiful-dnd\";\n\nconst Container = styled.div`\n    height: 100%;\n    width : 100%;\n    display: grid;\n    grid-template-rows: 1.5fr 5.5fr 1fr;\n`\n\n\nclass Make extends Component {\n\n    render() {\n        return (\n            <Container className='Make'>\n                <Park />\n                <Sequencer />\n                <Control />\n            </Container>\n        )\n    }\n}\n\n\nexport default Make;","import React, { Component } from 'react';\nimport loading from '../Assets/icon/loading.svg'\nimport styled from 'styled-components'\nimport { rgba } from 'polished'\n\nconst Container = styled.div`\n    width: 100%;\n    height: 100%;\n    top: 0px;\n    left: 0px;\n    position: fixed;\n    display: block; \n    z-index: 99; \n    background-color: ${rgba('#000000', 0.5)}\n`\n\n\nconst IMG = styled.img`\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    z-index: 100\n`\n\n\n\nclass FullLoading extends Component {\n    render() {\n        return (\n            <Container className='Load'>\n                <IMG src={loading} alt=\"Loading\" />\n            </Container>\n        )\n    }\n}\n\nexport default FullLoading;","export const steps = [\n    {\n        element: '.track',\n        intro: 'Track',\n        position: 'right',\n        highlightClass: 'highlighter',\n        tooltipClass: 'tooltip',\n    },  {\n        element: '.control-block',\n        intro: 'Control',\n        position: 'right',\n        highlightClass: 'highlighter',\n        tooltipClass: 'tooltip',\n    }, {\n        element: '.acc_loops',\n        intro: 'Acc Loops',\n        position: 'right',\n        highlightClass: 'highlighter',\n        tooltipClass: 'tooltip',\n    }, {\n        element: '.add_track',\n        intro: 'Add Track',\n        position: 'right',\n        highlightClass: 'highlighter',\n        tooltipClass: 'tooltip',\n    }, {\n        element: '.refresh',\n        intro: 'Refresh',\n        position: 'right',\n        highlightClass: 'highlighter',\n        tooltipClass: 'tooltip',\n    }, {\n        element: '.tracks',\n        intro: 'Tracks',\n        position: 'right',\n        highlightClass: 'highlighter',\n        tooltipClass: 'tooltip',\n    }, {\n        element: '.feedback',\n        intro: 'Feedback',\n        position: 'right',\n        highlightClass: 'highlighter',\n        tooltipClass: 'tooltip',\n    },\n];\n\n\nexport const hints = [\n    {\n        element: \".sequencer-p\",\n        hint: \"Hello hint\",\n        hintPosition: \"top-right\",\n        tooltipClass: 'tooltip',\n    }\n]","import React, { Component } from 'react';\nimport { connect } from \"react-redux\";\nimport styled from 'styled-components'\nimport Search from '../Component/search'\nimport Make from '../Component/make'\nimport { push } from \"connected-react-router\";\nimport { DragDropContext } from \"react-beautiful-dnd\";\nimport { changeTrackOrder, introFinish } from '../Action'\nimport { Steps, Hints } from 'intro.js-react';\nimport \"intro.js/introjs.css\";\nimport FullLoading from '../Component/fullLoad'\nimport { isMobile } from \"react-device-detect\";\nimport { steps, hints } from '../Utility/intro'\nconst Container = styled.div`\n    height: 100%;\n    display: grid;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    grid-template-columns: 3fr 1fr;\n`\nclass Interface extends Component {\n\n    constructor(props) {\n        super(props);\n        this.onDragEnd = this.onDragEnd.bind(this);\n        this.state = {\n            stepsEnabled: true\n        }\n    }\n\n    componentDidMount() {\n        const { onBack, track_num, onBackMobile } = this.props\n\n        if (isMobile) {\n            onBackMobile()\n        }\n\n        if (track_num <= 0) {\n            onBack()\n        }\n    }\n\n\n\n    onDragEnd(result) {\n        const { source, destination } = result\n        const { onChangeTrackOrder } = this.props\n        onChangeTrackOrder(source.index, destination.index)\n    }\n\n\n    onExit = () => {\n        const { onIntroFinish } = this.props\n        this.setState(() => ({ stepsEnabled: false }));\n        onIntroFinish()\n    };\n    \n\n    render() {\n        const { intro, drawed, track_num } = this.props\n        const { stepsEnabled } = this.state\n        return (\n                <Container className='Interface'>\n                    {!drawed && !intro && <FullLoading />}\n                    {drawed && \n                        <Steps\n                            enabled={stepsEnabled}\n                            initialStep={0}\n                            steps={steps}\n                            onExit={this.onExit}\n                            onChange={this.onChange}\n                        />\n                    }\n                    {\n                        drawed && <Hints enabled={true} hints={hints} />\n                    }\n                    {track_num > 0 && \n                        <DragDropContext\n                            onDragEnd={this.onDragEnd}\n                        >                            \n                            <Make />\n                            <Search />\n                        </DragDropContext>\n                    }\n                </Container>\n        )\n    }\n}\n\n\nconst mapDispatchToProps = (dispatch) => ({\n    onBack() {\n        dispatch(push('/chosen'))\n    },\n    onBackMobile() {\n        dispatch(push('/mobile'))\n    },\n    onChangeTrackOrder(source_index, target_index) {\n        dispatch(changeTrackOrder(source_index, target_index))\n    }, \n    onIntroFinish() {\n        dispatch(introFinish())\n    }\n\n});\nconst mapStateToProps = (state) => {\n    const trackIds = state['decision'].ids\n    return {\n        intro: state['decision'].intro,\n        track_num: trackIds.length,\n        drawed: state['candidate'].drawing['loaded']\n    }\n};\nInterface = connect(mapStateToProps, mapDispatchToProps)(Interface)\nexport default Interface;\n","import React, { Component } from 'react';\nimport logo from '../Assets/logo/logo_white.svg'\nimport { rgba } from 'polished'\nimport styled from 'styled-components'\nconst Container = styled.div`\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 2em;\n\n    & * {\n        margin: 5px;\n    }\n`\nconst IMG = styled.img`\n    width: 128px;\n    height: 128px;\n    margin-bottom: 10px;\n`\nconst H1 = styled.h1`\n    font-weight: 600;\n    font-size: 40px;\n    line-height: 47px;\n    text-transform: uppercase;  \n`\nconst P = styled.p`\n    margin-bottom: 10px;\n    font-style: normal;\n    font-weight: 300;\n    font-size: 18px;\n    line-height: 160%;\n    letter-spacing: 0.4px;\n    opacity: 0.8;\n`\nconst T = styled.p`\n    font-style: normal;\n    font-weight: 2000;\n    font-size: 16px;\n    line-height: 160%;\n    letter-spacing: 0.4px;\n    opacity: 0.8;\n    color: ${rgba('#ffffff', 0.8)}\n`\nconst A = styled.div`\n    color: #ffffff;\n    font-size: 14px;\n    cursor: pointer;\n    font-weight: normal;\n    box-sizing: border-box;\n    text-transform: uppercase;\n    background-color: ${rgba('#ffffff', 0)};\n    margin-bottom: 20px;\n    &:hover, :active {\n        text-decoration: underline;\n    }\n`\n\nclass Mobile extends Component {\n    render() {\n        return (\n            <Container className='Mobile'>\n                <IMG src={logo} alt=\"logo\" />\n                <H1>Beats With You</H1>\n                <P>Partnership with AI to create Beats</P>\n                <T>Not support mobile device, Please open the computer</T>\n            </Container>\n        )\n    }\n}\n\n\nexport default Mobile;\n","import React, { Component } from 'react';\nimport { Helmet } from \"react-helmet\";\nimport Welcome from './Container/welcome';\nimport Chosen from './Container/chosen';\nimport About from './Container/about'\nimport Intro from './Container/intro'\nimport Interface from './Container/interface'\nimport Mobile from './Container/mobile'\nimport { Route, Switch } from \"react-router-dom\";\nimport logo from './Assets/logo/logo_dark.png'\nimport './Sass/App.scss';\n\nclass App extends Component {\n  \n  render() {\n    return (\n      <div className='App'>\n        <Helmet> \n            <title>Beats With You</title> \n            <meta name=\"description\" content=\"Beats With You\" />\n            <link rel=\"icon\" type=\"image/svg\" href={logo} sizes=\"16x16\" />\n        </Helmet>\n        <Switch>\n          <Route exact  path=\"/\" component={Welcome}/>\n          <Route path=\"/about\" component={About}/>\n          <Route path=\"/intro\" component={Intro} />\n          <Route path=\"/mobile\" component={Mobile} />\n          <Route path=\"/chosen\" component={Chosen}/>\n          <Route path=\"/interface\" component={Interface} />\n        </Switch>\n      </div>\n    )\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Provider } from \"react-redux\";\nimport { history } from \"./configure\";\nimport { ConnectedRouter } from \"connected-react-router\";\nimport App from \"./App\";\n\nconst Root = ({ store }) => (\n    <Provider store={store}>\n        <ConnectedRouter history={history} >\n            <App />\n        </ConnectedRouter>\n    </Provider>\n);\n\nRoot.propTypes = {\n    store: PropTypes.object.isRequired\n};\n\n\nexport default Root;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Root from \"./root\";\nimport WebFont from 'webfontloader';\nimport configureStore from \"./configure\";\n\nconst store = configureStore();\nconst rootElement = document.getElementById(\"root\");\n\nWebFont.load({\n    google: {\n        families: ['Noto+Sans|Roboto+Mono|Work+Sans:400,700', 'Work Sans']\n    }\n}); \n\nReactDOM.render(<Root store={store} />, rootElement);","module.exports = __webpack_public_path__ + \"static/media/logo_white.4c9a999b.svg\";","module.exports = __webpack_public_path__ + \"static/media/loading.401507ea.svg\";","module.exports = __webpack_public_path__ + \"static/media/refresh.96a1294d.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow.31771389.svg\";"],"sourceRoot":""}